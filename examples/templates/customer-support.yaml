name: "Customer Support System"
description: "Multi-agent customer support system with ticket routing, resolution, and escalation"
features:
  - "ticket-routing"
  - "automated-resolution"
  - "escalation-management"
  - "sentiment-analysis"

config:
  numAgents: 4
  provider: "openai"
  orchestrationMode: "collaborative"
  collaborativeAgents:
    - "ticket-classifier"
    - "support-agent"
    - "escalation-manager"
    - "satisfaction-tracker"
  
  # Memory for customer history and knowledge base
  memoryEnabled: true
  memoryProvider: "pgvector"
  embeddingProvider: "openai"
  embeddingModel: "text-embedding-3-small"
  
  # RAG for support knowledge base
  ragEnabled: true
  ragChunkSize: 1000
  ragOverlap: 100
  ragTopK: 5
  ragScoreThreshold: 0.8
  hybridSearch: true
  sessionMemory: true
  
  # MCP tools for support operations
  mcpEnabled: true
  mcpProduction: true
  mcpTools:
    - "ticket_system"
    - "knowledge_base"
    - "sentiment_analyzer"
    - "escalation_system"
  
  # Support quality features
  responsibleAI: true
  errorHandler: true
  withCache: true
  withMetrics: true
  visualize: true

# Agent-specific configurations
agents:
  ticket-classifier:
    role: "ticket_classifier"
    description: "Classifies and prioritizes incoming support tickets"
    capabilities:
      - "classification"
      - "priority_assessment"
      - "sentiment_analysis"
      - "pattern_recognition"
    systemPrompt: |
      You are a ticket classification specialist for customer support.
      Your role is to analyze incoming tickets and:
      - Classify ticket type (technical, billing, general inquiry, etc.)
      - Assess urgency and priority level
      - Identify customer sentiment and emotional state
      - Route tickets to appropriate support agents
      - Flag potential escalation cases
      - Extract key information and context
      Be accurate and efficient in your classifications.
    llm:
      temperature: 0.2
      maxTokens: 1500
    timeout: 30
    retryPolicy:
      maxRetries: 3
      baseDelayMs: 500
      maxDelayMs: 2000
      backoffFactor: 1.5
    rateLimit:
      requestsPerSecond: 10
      burstSize: 20
    metadata:
      specialization: "classification"
      priority: "high"
      response_time: "immediate"

  support-agent:
    role: "support_specialist"
    description: "Provides comprehensive customer support and issue resolution"
    capabilities:
      - "problem_solving"
      - "customer_service"
      - "technical_support"
      - "communication"
    systemPrompt: |
      You are a customer support specialist focused on resolving customer issues.
      Your approach should be:
      - Empathetic and professional in all interactions
      - Thorough in understanding customer problems
      - Solution-oriented with step-by-step guidance
      - Knowledgeable about products and services
      - Proactive in preventing future issues
      - Clear in communication and explanations
      Always aim for first-contact resolution when possible.
    llm:
      temperature: 0.5
      maxTokens: 2500
    timeout: 60
    retryPolicy:
      maxRetries: 2
      baseDelayMs: 1000
      maxDelayMs: 4000
      backoffFactor: 2.0
    rateLimit:
      requestsPerSecond: 5
      burstSize: 10
    metadata:
      specialization: "customer_support"
      priority: "high"
      response_time: "standard"

  escalation-manager:
    role: "escalation_manager"
    description: "Manages complex cases and escalations to appropriate teams"
    capabilities:
      - "escalation_management"
      - "case_analysis"
      - "team_coordination"
      - "priority_management"
    systemPrompt: |
      You are an escalation manager handling complex customer support cases.
      Your responsibilities include:
      - Identifying cases requiring escalation
      - Coordinating with specialized teams
      - Managing high-priority and VIP customers
      - Ensuring proper case documentation
      - Monitoring resolution timelines
      - Communicating status updates to stakeholders
      - Implementing process improvements
      Focus on swift resolution and customer satisfaction.
    llm:
      temperature: 0.3
      maxTokens: 2000
    timeout: 45
    retryPolicy:
      maxRetries: 2
      baseDelayMs: 1200
      maxDelayMs: 3500
      backoffFactor: 1.8
    rateLimit:
      requestsPerSecond: 3
      burstSize: 6
    metadata:
      specialization: "escalation"
      priority: "critical"
      response_time: "urgent"

  satisfaction-tracker:
    role: "satisfaction_analyst"
    description: "Tracks customer satisfaction and identifies improvement opportunities"
    capabilities:
      - "satisfaction_analysis"
      - "feedback_processing"
      - "trend_analysis"
      - "reporting"
    systemPrompt: |
      You are a customer satisfaction analyst focused on service quality.
      Your analysis should include:
      - Customer satisfaction score tracking
      - Feedback sentiment analysis
      - Identification of common issues and trends
      - Service quality metrics and KPIs
      - Recommendations for process improvements
      - Agent performance insights
      - Customer journey optimization suggestions
      Provide actionable insights for service enhancement.
    llm:
      temperature: 0.4
      maxTokens: 2200
    timeout: 40
    retryPolicy:
      maxRetries: 2
      baseDelayMs: 1000
      maxDelayMs: 3000
      backoffFactor: 1.7
    rateLimit:
      requestsPerSecond: 2
      burstSize: 4
    metadata:
      specialization: "analytics"
      priority: "medium"
      response_time: "batch"

# MCP server configurations for support tools
mcpServers:
  - name: "ticket_system"
    type: "tcp"
    host: "localhost"
    port: 8812
    enabled: false
  - name: "knowledge_base"
    type: "stdio"
    command: "npx @modelcontextprotocol/server-knowledge"
    enabled: false
  - name: "sentiment_analyzer"
    type: "stdio"
    command: "npx @modelcontextprotocol/server-sentiment"
    enabled: false
  - name: "escalation_system"
    type: "tcp"
    host: "localhost"
    port: 8813
    enabled: false