name: "Custom RAG System"
description: "A customized RAG system with specific configuration"
features:
  - "custom-rag"
  - "advanced-memory"
  - "multi-modal"

config:
  numAgents: 4
  provider: "openai"
  orchestrationMode: "collaborative"
  collaborativeAgents:
    - "document-ingester"
    - "query-processor"
    - "retrieval-agent"
    - "response-generator"
  
  # Memory configuration
  memoryEnabled: true
  memoryProvider: "weaviate"
  embeddingProvider: "openai"
  embeddingModel: "text-embedding-3-large"
  
  # RAG configuration
  ragEnabled: true
  ragChunkSize: 2000
  ragOverlap: 200
  ragTopK: 10
  ragScoreThreshold: 0.8
  hybridSearch: true
  sessionMemory: true
  
  # MCP configuration
  mcpEnabled: true
  mcpProduction: true
  mcpTools:
    - "web_search"
    - "document_parser"
    - "summarize"
  withCache: true
  withMetrics: true
  
  # Other options
  responsibleAI: true
  errorHandler: true
  visualize: true

# Agent-specific configurations for RAG system
agents:
  document-ingester:
    role: "document_processor"
    description: "Ingests and processes documents for the knowledge base"
    capabilities:
      - "document_processing"
      - "text_extraction"
      - "metadata_extraction"
      - "content_chunking"
    systemPrompt: |
      You are a document ingestion specialist. Your role is to:
      - Process various document formats (PDF, Word, HTML, etc.)
      - Extract clean, structured text content
      - Generate meaningful metadata and tags
      - Create optimal chunks for embedding
      - Ensure data quality and consistency
      Focus on accuracy and completeness in document processing.
    enabled: true
    timeout: 60
    llm:
      temperature: 0.2
      maxTokens: 2500
    retryPolicy:
      maxRetries: 3
      baseDelayMs: 1000
      maxDelayMs: 5000
      backoffFactor: 2.0
    metadata:
      specialization: "document_processing"
      priority: "high"

  query-processor:
    role: "query_analyzer"
    description: "Analyzes and optimizes user queries for retrieval"
    capabilities:
      - "query_analysis"
      - "intent_recognition"
      - "query_expansion"
      - "semantic_understanding"
    systemPrompt: |
      You are a query processing expert. Your responsibilities include:
      - Understanding user intent and context
      - Expanding queries with relevant terms
      - Optimizing queries for semantic search
      - Identifying key concepts and entities
      - Preparing queries for effective retrieval
      Ensure queries are optimized for the best possible retrieval results.
    enabled: true
    timeout: 30
    llm:
      temperature: 0.3
      maxTokens: 1500
    retryPolicy:
      maxRetries: 2
      baseDelayMs: 800
      maxDelayMs: 3000
      backoffFactor: 1.5
    metadata:
      specialization: "query_processing"
      priority: "high"

  retrieval-agent:
    role: "information_retriever"
    description: "Retrieves relevant information from the knowledge base"
    capabilities:
      - "information_retrieval"
      - "semantic_search"
      - "relevance_ranking"
      - "context_filtering"
    systemPrompt: |
      You are an information retrieval specialist. Your tasks include:
      - Performing semantic search across the knowledge base
      - Ranking results by relevance and quality
      - Filtering results based on context and criteria
      - Combining multiple retrieval strategies
      - Ensuring comprehensive coverage of relevant information
      Focus on precision and recall in your retrieval process.
    enabled: true
    timeout: 45
    llm:
      temperature: 0.2
      maxTokens: 2000
    retryPolicy:
      maxRetries: 2
      baseDelayMs: 1000
      maxDelayMs: 4000
      backoffFactor: 1.8
    metadata:
      specialization: "retrieval"
      priority: "critical"

  response-generator:
    role: "response_synthesizer"
    description: "Generates comprehensive responses using retrieved information"
    capabilities:
      - "response_generation"
      - "information_synthesis"
      - "context_integration"
      - "answer_formatting"
    systemPrompt: |
      You are a response generation expert. Your role is to:
      - Synthesize information from multiple retrieved sources
      - Generate comprehensive, accurate responses
      - Maintain context and coherence throughout responses
      - Cite sources appropriately and transparently
      - Ensure responses are helpful and actionable
      - Adapt responses to user needs and preferences
      Create responses that are informative, accurate, and well-structured.
    enabled: true
    timeout: 50
    llm:
      temperature: 0.6
      maxTokens: 3000
    retryPolicy:
      maxRetries: 2
      baseDelayMs: 1200
      maxDelayMs: 4500
      backoffFactor: 2.0
    metadata:
      specialization: "response_generation"
      priority: "high"

# MCP servers for RAG functionality
mcpServers:
  - name: "document_parser"
    type: "stdio"
    command: "npx @modelcontextprotocol/server-documents"
    enabled: false
  - name: "web_search"
    type: "stdio"
    command: "npx @modelcontextprotocol/server-brave-search"
    enabled: true
  - name: "knowledge_base"
    type: "tcp"
    host: "localhost"
    port: 8815
    enabled: false