<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head><script src="/AgenticGoKitDocs/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=AgenticGoKitDocs/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.1">
    <meta name="generator" content="Relearn 8.0.0+9803d5122ebb3276acea823f476e9eb44f607862">
    <meta name="description" content="Orchestration API Multi-agent coordination and workflow patterns
This document covers AgenticGoKit’s Orchestration API, which enables sophisticated coordination between multiple agents. The orchestration system provides various patterns for agent collaboration, from simple routing to complex hybrid workflows.
📋 Core Concepts Orchestration Modes AgenticGoKit supports multiple orchestration patterns:
type OrchestrationMode string const ( // OrchestrationRoute sends each event to a single agent based on routing metadata (default) OrchestrationRoute OrchestrationMode = &#34;route&#34; // OrchestrationCollaborate sends each event to ALL registered agents in parallel OrchestrationCollaborate OrchestrationMode = &#34;collaborate&#34; // OrchestrationSequential processes agents one after another OrchestrationSequential OrchestrationMode = &#34;sequential&#34; // OrchestrationParallel processes agents in parallel (similar to collaborate) OrchestrationParallel OrchestrationMode = &#34;parallel&#34; // OrchestrationLoop repeats processing with a single agent OrchestrationLoop OrchestrationMode = &#34;loop&#34; // OrchestrationMixed combines collaborative and sequential patterns OrchestrationMixed OrchestrationMode = &#34;mixed&#34; )🚀 Basic Usage Route Orchestration (Default) // Create agents agents := map[string]core.AgentHandler{ &#34;greeter&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { name := event.Data[&#34;name&#34;].(string) return core.AgentResult{ Data: map[string]interface{}{ &#34;greeting&#34;: fmt.Sprintf(&#34;Hello, %s!&#34;, name), }, }, nil }), } // Create route runner (default behavior) runner := core.CreateRouteRunner(agents)Collaborative Orchestration // Create agents for parallel processing agents := map[string]core.AgentHandler{ &#34;researcher&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Research logic here return core.AgentResult{ Data: map[string]interface{}{ &#34;research_data&#34;: &#34;research results for &#34; &#43; query, }, }, nil }), &#34;analyzer&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Analysis logic here return core.AgentResult{ Data: map[string]interface{}{ &#34;analysis&#34;: &#34;analysis of &#34; &#43; query, }, }, nil }), &#34;validator&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Validation logic here return core.AgentResult{ Data: map[string]interface{}{ &#34;validation&#34;: &#34;validation of &#34; &#43; query, }, }, nil }), } // Create collaborative runner - all agents process in parallel runner := core.CreateCollaborativeRunner(agents, 2*time.Minute) // Process event - all agents will run simultaneously event := core.NewEvent(&#34;research&#34;, map[string]interface{}{ &#34;query&#34;: &#34;latest AI developments&#34;, }) results, err := runner.ProcessEvent(context.Background(), event) if err != nil { log.Fatal(err) } // Results contain output from all agents fmt.Printf(&#34;Research: %v\n&#34;, results[&#34;researcher&#34;].Data[&#34;research_data&#34;]) fmt.Printf(&#34;Analysis: %v\n&#34;, results[&#34;analyzer&#34;].Data[&#34;analysis&#34;]) fmt.Printf(&#34;Validation: %v\n&#34;, results[&#34;validator&#34;].Data[&#34;validation&#34;])Sequential Orchestration // Create agents for pipeline processing agents := map[string]core.AgentHandler{ &#34;collector&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Data collection logic collectedData := &#34;collected data for &#34; &#43; query // Pass data to next agent via state state.Set(&#34;collected_data&#34;, collectedData) return core.AgentResult{ Data: map[string]interface{}{ &#34;status&#34;: &#34;data collected&#34;, }, }, nil }), &#34;processor&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { // Get data from previous agent collectedData, _ := state.Get(&#34;collected_data&#34;) // Process the data processedData := &#34;processed &#34; &#43; collectedData.(string) state.Set(&#34;processed_data&#34;, processedData) return core.AgentResult{ Data: map[string]interface{}{ &#34;status&#34;: &#34;data processed&#34;, }, }, nil }), &#34;formatter&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { // Get processed data processedData, _ := state.Get(&#34;processed_data&#34;) // Format final output finalOutput := &#34;formatted &#34; &#43; processedData.(string) return core.AgentResult{ Data: map[string]interface{}{ &#34;final_output&#34;: finalOutput, }, }, nil }), } // Create sequential runner with ordered agent names runner := core.CreateSequentialRunner(agents, []string{&#34;collector&#34;, &#34;processor&#34;, &#34;formatter&#34;}) // Process event - agents run one after another event := core.NewEvent(&#34;process&#34;, map[string]interface{}{ &#34;query&#34;: &#34;user data&#34;, }) result, err := runner.ProcessEvent(context.Background(), event) if err != nil { log.Fatal(err) } fmt.Printf(&#34;Final output: %v\n&#34;, result.Data[&#34;final_output&#34;])Loop Orchestration // Create agent for iterative processing qualityChecker := core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { // Get current iteration count iteration, _ := state.Get(&#34;iteration&#34;) if iteration == nil { iteration = 0 } iterationCount := iteration.(int) &#43; 1 state.Set(&#34;iteration&#34;, iterationCount) // Get content to check content, ok := event.Data[&#34;content&#34;].(string) if !ok { content, _ = state.Get(&#34;content&#34;).(string) } // Simulate quality checking qualityScore := calculateQuality(content) // Improve content if quality is low if qualityScore &lt; 0.8 &amp;&amp; iterationCount &lt; 5 { improvedContent := improveContent(content) state.Set(&#34;content&#34;, improvedContent) return core.AgentResult{ Data: map[string]interface{}{ &#34;quality_score&#34;: qualityScore, &#34;iteration&#34;: iterationCount, &#34;continue&#34;: true, // Signal to continue loop }, }, nil } // Quality is good enough or max iterations reached return core.AgentResult{ Data: map[string]interface{}{ &#34;quality_score&#34;: qualityScore, &#34;iteration&#34;: iterationCount, &#34;final_content&#34;: content, &#34;continue&#34;: false, // Signal to stop loop }, }, nil }) // Create loop runner runner := core.CreateLoopRunner(qualityChecker, 5) // Max 5 iterations // Process event event := core.NewEvent(&#34;quality_check&#34;, map[string]interface{}{ &#34;content&#34;: &#34;initial content that needs improvement&#34;, }) result, err := runner.ProcessEvent(context.Background(), event) if err != nil { log.Fatal(err) } fmt.Printf(&#34;Final quality score: %v\n&#34;, result.Data[&#34;quality_score&#34;]) fmt.Printf(&#34;Iterations: %v\n&#34;, result.Data[&#34;iteration&#34;]) fmt.Printf(&#34;Final content: %v\n&#34;, result.Data[&#34;final_content&#34;])Mixed Orchestration // Create mixed orchestration with both collaborative and sequential phases builder := core.NewOrchestrationBuilder(core.OrchestrationMixed). WithCollaborativeAgents(map[string]core.AgentHandler{ &#34;analyzer&#34;: analyzerAgent, &#34;validator&#34;: validatorAgent, }). WithSequentialAgents(map[string]core.AgentHandler{ &#34;processor&#34;: processorAgent, &#34;reporter&#34;: reporterAgent, }). WithTimeout(5 * time.Minute). WithFailureThreshold(0.8) runner := builder.Build() // The mixed orchestration will: // 1. Run analyzer and validator in parallel (collaborative phase) // 2. Then run processor and reporter in sequence (sequential phase)🏗️ Orchestration Builder OrchestrationBuilder Interface type OrchestrationBuilder interface { WithAgents(agents map[string]AgentHandler) *OrchestrationBuilder WithCollaborativeAgents(agents map[string]AgentHandler) *OrchestrationBuilder WithSequentialAgents(agents map[string]AgentHandler) *OrchestrationBuilder WithTimeout(timeout time.Duration) *OrchestrationBuilder WithMaxIterations(max int) *OrchestrationBuilder WithFailureThreshold(threshold float64) *OrchestrationBuilder WithMaxConcurrency(max int) *OrchestrationBuilder WithRetryPolicy(policy *RetryPolicy) *OrchestrationBuilder Build() Runner GenerateMermaidDiagram() string GenerateMermaidDiagramWithConfig(config MermaidConfig) string }Advanced Configuration // Create sophisticated orchestration with all options runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithTimeout(2 * time.Minute). WithFailureThreshold(0.8). // 80% of agents must succeed WithMaxConcurrency(5). // Max 5 concurrent agents WithRetryPolicy(&amp;core.RetryPolicy{ MaxRetries: 3, InitialDelay: time.Second, MaxDelay: 30 * time.Second, BackoffFactor: 2.0, }). Build()📊 Workflow Visualization Generating Workflow Diagrams // Generate Mermaid diagram for orchestration builder := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents) // Generate basic diagram diagram := builder.GenerateMermaidDiagram() fmt.Println(diagram) // Generate diagram with custom configuration config := core.MermaidConfig{ DiagramType: core.FlowchartDiagram, Title: &#34;Research Workflow&#34;, Direction: &#34;TD&#34;, // Top-Down Theme: &#34;dark&#34;, ShowMetadata: true, ShowAgentTypes: true, CompactMode: false, } customDiagram := builder.GenerateMermaidDiagramWithConfig(config) fmt.Println(customDiagram) // Save diagram to file err := core.SaveDiagramAsMarkdown(&#34;workflow.md&#34;, &#34;Research Workflow&#34;, customDiagram) if err != nil { log.Printf(&#34;Failed to save diagram: %v&#34;, err) }Example Generated Diagram ---title: Collaborative Research Workflow---flowchart TDINPUT[&#34;🎯 Event Input&#34;]RESEARCHER[&#34;🤖 Researcher&lt;br/&gt;Type: Research Agent&lt;br/&gt;Timeout: 2m&#34;]ANALYZER[&#34;🤖 Analyzer&lt;br/&gt;Type: Analysis Agent&lt;br/&gt;Timeout: 2m&#34;]VALIDATOR[&#34;🤖 Validator&lt;br/&gt;Type: Validation Agent&lt;br/&gt;Timeout: 2m&#34;]OUTPUT[&#34;✅ Aggregated Result&#34;]INPUT --&gt; RESEARCHERINPUT --&gt; ANALYZERINPUT --&gt; VALIDATORRESEARCHER --&gt; OUTPUTANALYZER --&gt; OUTPUTVALIDATOR --&gt; OUTPUTstyle RESEARCHER fill:#e1f5festyle ANALYZER fill:#e8f5e8style VALIDATOR fill:#fff3e0🔧 Runner Interface Core Runner Methods type Runner interface { // ProcessEvent processes a single event through the orchestration ProcessEvent(ctx context.Context, event Event) (map[string]AgentResult, error) // RegisterAgent adds an agent to the orchestration RegisterAgent(name string, handler AgentHandler) error // UnregisterAgent removes an agent from the orchestration UnregisterAgent(name string) error // ListAgents returns all registered agent names ListAgents() []string // GetAgent retrieves a specific agent by name GetAgent(name string) (AgentHandler, bool) // SetOrchestrationMode changes the orchestration pattern SetOrchestrationMode(mode OrchestrationMode) error // GetOrchestrationMode returns the current orchestration pattern GetOrchestrationMode() OrchestrationMode // Stop gracefully shuts down the runner Stop() error }Runner Factory Functions // Create runners for specific patterns func CreateRouteRunner(agents map[string]AgentHandler) Runner func CreateCollaborativeRunner(agents map[string]AgentHandler, timeout time.Duration) Runner func CreateSequentialRunner(agents map[string]AgentHandler, order []string) Runner func CreateLoopRunner(agent AgentHandler, maxIterations int) Runner func CreateFaultTolerantRunner(agents map[string]AgentHandler) Runner func CreateLoadBalancedRunner(agents map[string]AgentHandler, maxConcurrency int) Runner🔄 Event Routing Route-Based Processing // Create agents with different capabilities agents := map[string]core.AgentHandler{ &#34;chat&#34;: chatAgent, &#34;search&#34;: searchAgent, &#34;analyze&#34;: analyzeAgent, } // Create route runner runner := core.CreateRouteRunner(agents) // Route to specific agent using metadata chatEvent := core.NewEvent(&#34;user_message&#34;, map[string]interface{}{&#34;message&#34;: &#34;Hello&#34;}, map[string]string{&#34;route&#34;: &#34;chat&#34;}, // Route to chat agent ) searchEvent := core.NewEvent(&#34;search_query&#34;, map[string]interface{}{&#34;query&#34;: &#34;latest news&#34;}, map[string]string{&#34;route&#34;: &#34;search&#34;}, // Route to search agent ) // Process events - each goes to specified agent chatResult, _ := runner.ProcessEvent(context.Background(), chatEvent) searchResult, _ := runner.ProcessEvent(context.Background(), searchEvent)Dynamic Routing // Create router function func routeEvent(event core.Event) string { data := event.GetData() // Route based on event content if query, ok := data[&#34;query&#34;].(string); ok { if strings.Contains(strings.ToLower(query), &#34;search&#34;) { return &#34;search&#34; } if strings.Contains(strings.ToLower(query), &#34;analyze&#34;) { return &#34;analyze&#34; } } // Default to chat return &#34;chat&#34; } // Use custom routing logic runner := core.CreateRouteRunnerWithRouter(agents, routeEvent)📈 Performance and Monitoring Execution Metrics // Enable metrics collection runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithMetrics(true). Build() // Process events result, err := runner.ProcessEvent(ctx, event) // Get execution metrics metrics := runner.GetMetrics() fmt.Printf(&#34;Total execution time: %v\n&#34;, metrics.TotalDuration) fmt.Printf(&#34;Agent execution times: %v\n&#34;, metrics.AgentDurations) fmt.Printf(&#34;Success rate: %.2f%%\n&#34;, metrics.SuccessRate*100)Health Checks // Check runner health health := runner.HealthCheck(ctx) if !health.Healthy { log.Printf(&#34;Runner unhealthy: %v&#34;, health.Issues) } // Check individual agent health for agentName := range agents { agentHealth := runner.CheckAgentHealth(ctx, agentName) if !agentHealth.Healthy { log.Printf(&#34;Agent %s unhealthy: %v&#34;, agentName, agentHealth.Issues) } }🛡️ Error Handling and Resilience Retry Policies retryPolicy := &amp;core.RetryPolicy{ MaxRetries: 3, InitialDelay: time.Second, MaxDelay: 30 * time.Second, BackoffFactor: 2.0, RetryableErrors: []error{ context.DeadlineExceeded, &amp;net.OpError{}, }, } runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithRetryPolicy(retryPolicy). Build()Circuit Breaker // Enable circuit breaker for fault tolerance runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithCircuitBreaker(&amp;core.CircuitBreakerConfig{ FailureThreshold: 5, // Open after 5 failures RecoveryTimeout: 30 * time.Second, HalfOpenRequests: 3, // Test with 3 requests when half-open }). Build()Graceful Degradation // Configure graceful degradation runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithFailureThreshold(0.6). // Continue if 60% of agents succeed WithGracefulDegradation(true). Build() // Even if some agents fail, you&#39;ll get partial results result, err := runner.ProcessEvent(ctx, event) if err != nil { // Check if it&#39;s a partial failure if partialErr, ok := err.(*core.PartialFailureError); ok { log.Printf(&#34;Partial failure: %d/%d agents succeeded&#34;, partialErr.SuccessCount, partialErr.TotalCount) // Use partial results usePartialResults(result) } }This comprehensive Orchestration API reference covers all aspects of multi-agent coordination in AgenticGoKit, from basic patterns to advanced configuration and monitoring.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="orchestration :: AgenticGoKit Docs">
    <meta name="twitter:description" content="Orchestration API Multi-agent coordination and workflow patterns
This document covers AgenticGoKit’s Orchestration API, which enables sophisticated coordination between multiple agents. The orchestration system provides various patterns for agent collaboration, from simple routing to complex hybrid workflows.
📋 Core Concepts Orchestration Modes AgenticGoKit supports multiple orchestration patterns:
type OrchestrationMode string const ( // OrchestrationRoute sends each event to a single agent based on routing metadata (default) OrchestrationRoute OrchestrationMode = &#34;route&#34; // OrchestrationCollaborate sends each event to ALL registered agents in parallel OrchestrationCollaborate OrchestrationMode = &#34;collaborate&#34; // OrchestrationSequential processes agents one after another OrchestrationSequential OrchestrationMode = &#34;sequential&#34; // OrchestrationParallel processes agents in parallel (similar to collaborate) OrchestrationParallel OrchestrationMode = &#34;parallel&#34; // OrchestrationLoop repeats processing with a single agent OrchestrationLoop OrchestrationMode = &#34;loop&#34; // OrchestrationMixed combines collaborative and sequential patterns OrchestrationMixed OrchestrationMode = &#34;mixed&#34; )🚀 Basic Usage Route Orchestration (Default) // Create agents agents := map[string]core.AgentHandler{ &#34;greeter&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { name := event.Data[&#34;name&#34;].(string) return core.AgentResult{ Data: map[string]interface{}{ &#34;greeting&#34;: fmt.Sprintf(&#34;Hello, %s!&#34;, name), }, }, nil }), } // Create route runner (default behavior) runner := core.CreateRouteRunner(agents)Collaborative Orchestration // Create agents for parallel processing agents := map[string]core.AgentHandler{ &#34;researcher&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Research logic here return core.AgentResult{ Data: map[string]interface{}{ &#34;research_data&#34;: &#34;research results for &#34; &#43; query, }, }, nil }), &#34;analyzer&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Analysis logic here return core.AgentResult{ Data: map[string]interface{}{ &#34;analysis&#34;: &#34;analysis of &#34; &#43; query, }, }, nil }), &#34;validator&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Validation logic here return core.AgentResult{ Data: map[string]interface{}{ &#34;validation&#34;: &#34;validation of &#34; &#43; query, }, }, nil }), } // Create collaborative runner - all agents process in parallel runner := core.CreateCollaborativeRunner(agents, 2*time.Minute) // Process event - all agents will run simultaneously event := core.NewEvent(&#34;research&#34;, map[string]interface{}{ &#34;query&#34;: &#34;latest AI developments&#34;, }) results, err := runner.ProcessEvent(context.Background(), event) if err != nil { log.Fatal(err) } // Results contain output from all agents fmt.Printf(&#34;Research: %v\n&#34;, results[&#34;researcher&#34;].Data[&#34;research_data&#34;]) fmt.Printf(&#34;Analysis: %v\n&#34;, results[&#34;analyzer&#34;].Data[&#34;analysis&#34;]) fmt.Printf(&#34;Validation: %v\n&#34;, results[&#34;validator&#34;].Data[&#34;validation&#34;])Sequential Orchestration // Create agents for pipeline processing agents := map[string]core.AgentHandler{ &#34;collector&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Data collection logic collectedData := &#34;collected data for &#34; &#43; query // Pass data to next agent via state state.Set(&#34;collected_data&#34;, collectedData) return core.AgentResult{ Data: map[string]interface{}{ &#34;status&#34;: &#34;data collected&#34;, }, }, nil }), &#34;processor&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { // Get data from previous agent collectedData, _ := state.Get(&#34;collected_data&#34;) // Process the data processedData := &#34;processed &#34; &#43; collectedData.(string) state.Set(&#34;processed_data&#34;, processedData) return core.AgentResult{ Data: map[string]interface{}{ &#34;status&#34;: &#34;data processed&#34;, }, }, nil }), &#34;formatter&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { // Get processed data processedData, _ := state.Get(&#34;processed_data&#34;) // Format final output finalOutput := &#34;formatted &#34; &#43; processedData.(string) return core.AgentResult{ Data: map[string]interface{}{ &#34;final_output&#34;: finalOutput, }, }, nil }), } // Create sequential runner with ordered agent names runner := core.CreateSequentialRunner(agents, []string{&#34;collector&#34;, &#34;processor&#34;, &#34;formatter&#34;}) // Process event - agents run one after another event := core.NewEvent(&#34;process&#34;, map[string]interface{}{ &#34;query&#34;: &#34;user data&#34;, }) result, err := runner.ProcessEvent(context.Background(), event) if err != nil { log.Fatal(err) } fmt.Printf(&#34;Final output: %v\n&#34;, result.Data[&#34;final_output&#34;])Loop Orchestration // Create agent for iterative processing qualityChecker := core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { // Get current iteration count iteration, _ := state.Get(&#34;iteration&#34;) if iteration == nil { iteration = 0 } iterationCount := iteration.(int) &#43; 1 state.Set(&#34;iteration&#34;, iterationCount) // Get content to check content, ok := event.Data[&#34;content&#34;].(string) if !ok { content, _ = state.Get(&#34;content&#34;).(string) } // Simulate quality checking qualityScore := calculateQuality(content) // Improve content if quality is low if qualityScore &lt; 0.8 &amp;&amp; iterationCount &lt; 5 { improvedContent := improveContent(content) state.Set(&#34;content&#34;, improvedContent) return core.AgentResult{ Data: map[string]interface{}{ &#34;quality_score&#34;: qualityScore, &#34;iteration&#34;: iterationCount, &#34;continue&#34;: true, // Signal to continue loop }, }, nil } // Quality is good enough or max iterations reached return core.AgentResult{ Data: map[string]interface{}{ &#34;quality_score&#34;: qualityScore, &#34;iteration&#34;: iterationCount, &#34;final_content&#34;: content, &#34;continue&#34;: false, // Signal to stop loop }, }, nil }) // Create loop runner runner := core.CreateLoopRunner(qualityChecker, 5) // Max 5 iterations // Process event event := core.NewEvent(&#34;quality_check&#34;, map[string]interface{}{ &#34;content&#34;: &#34;initial content that needs improvement&#34;, }) result, err := runner.ProcessEvent(context.Background(), event) if err != nil { log.Fatal(err) } fmt.Printf(&#34;Final quality score: %v\n&#34;, result.Data[&#34;quality_score&#34;]) fmt.Printf(&#34;Iterations: %v\n&#34;, result.Data[&#34;iteration&#34;]) fmt.Printf(&#34;Final content: %v\n&#34;, result.Data[&#34;final_content&#34;])Mixed Orchestration // Create mixed orchestration with both collaborative and sequential phases builder := core.NewOrchestrationBuilder(core.OrchestrationMixed). WithCollaborativeAgents(map[string]core.AgentHandler{ &#34;analyzer&#34;: analyzerAgent, &#34;validator&#34;: validatorAgent, }). WithSequentialAgents(map[string]core.AgentHandler{ &#34;processor&#34;: processorAgent, &#34;reporter&#34;: reporterAgent, }). WithTimeout(5 * time.Minute). WithFailureThreshold(0.8) runner := builder.Build() // The mixed orchestration will: // 1. Run analyzer and validator in parallel (collaborative phase) // 2. Then run processor and reporter in sequence (sequential phase)🏗️ Orchestration Builder OrchestrationBuilder Interface type OrchestrationBuilder interface { WithAgents(agents map[string]AgentHandler) *OrchestrationBuilder WithCollaborativeAgents(agents map[string]AgentHandler) *OrchestrationBuilder WithSequentialAgents(agents map[string]AgentHandler) *OrchestrationBuilder WithTimeout(timeout time.Duration) *OrchestrationBuilder WithMaxIterations(max int) *OrchestrationBuilder WithFailureThreshold(threshold float64) *OrchestrationBuilder WithMaxConcurrency(max int) *OrchestrationBuilder WithRetryPolicy(policy *RetryPolicy) *OrchestrationBuilder Build() Runner GenerateMermaidDiagram() string GenerateMermaidDiagramWithConfig(config MermaidConfig) string }Advanced Configuration // Create sophisticated orchestration with all options runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithTimeout(2 * time.Minute). WithFailureThreshold(0.8). // 80% of agents must succeed WithMaxConcurrency(5). // Max 5 concurrent agents WithRetryPolicy(&amp;core.RetryPolicy{ MaxRetries: 3, InitialDelay: time.Second, MaxDelay: 30 * time.Second, BackoffFactor: 2.0, }). Build()📊 Workflow Visualization Generating Workflow Diagrams // Generate Mermaid diagram for orchestration builder := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents) // Generate basic diagram diagram := builder.GenerateMermaidDiagram() fmt.Println(diagram) // Generate diagram with custom configuration config := core.MermaidConfig{ DiagramType: core.FlowchartDiagram, Title: &#34;Research Workflow&#34;, Direction: &#34;TD&#34;, // Top-Down Theme: &#34;dark&#34;, ShowMetadata: true, ShowAgentTypes: true, CompactMode: false, } customDiagram := builder.GenerateMermaidDiagramWithConfig(config) fmt.Println(customDiagram) // Save diagram to file err := core.SaveDiagramAsMarkdown(&#34;workflow.md&#34;, &#34;Research Workflow&#34;, customDiagram) if err != nil { log.Printf(&#34;Failed to save diagram: %v&#34;, err) }Example Generated Diagram ---title: Collaborative Research Workflow---flowchart TDINPUT[&#34;🎯 Event Input&#34;]RESEARCHER[&#34;🤖 Researcher&lt;br/&gt;Type: Research Agent&lt;br/&gt;Timeout: 2m&#34;]ANALYZER[&#34;🤖 Analyzer&lt;br/&gt;Type: Analysis Agent&lt;br/&gt;Timeout: 2m&#34;]VALIDATOR[&#34;🤖 Validator&lt;br/&gt;Type: Validation Agent&lt;br/&gt;Timeout: 2m&#34;]OUTPUT[&#34;✅ Aggregated Result&#34;]INPUT --&gt; RESEARCHERINPUT --&gt; ANALYZERINPUT --&gt; VALIDATORRESEARCHER --&gt; OUTPUTANALYZER --&gt; OUTPUTVALIDATOR --&gt; OUTPUTstyle RESEARCHER fill:#e1f5festyle ANALYZER fill:#e8f5e8style VALIDATOR fill:#fff3e0🔧 Runner Interface Core Runner Methods type Runner interface { // ProcessEvent processes a single event through the orchestration ProcessEvent(ctx context.Context, event Event) (map[string]AgentResult, error) // RegisterAgent adds an agent to the orchestration RegisterAgent(name string, handler AgentHandler) error // UnregisterAgent removes an agent from the orchestration UnregisterAgent(name string) error // ListAgents returns all registered agent names ListAgents() []string // GetAgent retrieves a specific agent by name GetAgent(name string) (AgentHandler, bool) // SetOrchestrationMode changes the orchestration pattern SetOrchestrationMode(mode OrchestrationMode) error // GetOrchestrationMode returns the current orchestration pattern GetOrchestrationMode() OrchestrationMode // Stop gracefully shuts down the runner Stop() error }Runner Factory Functions // Create runners for specific patterns func CreateRouteRunner(agents map[string]AgentHandler) Runner func CreateCollaborativeRunner(agents map[string]AgentHandler, timeout time.Duration) Runner func CreateSequentialRunner(agents map[string]AgentHandler, order []string) Runner func CreateLoopRunner(agent AgentHandler, maxIterations int) Runner func CreateFaultTolerantRunner(agents map[string]AgentHandler) Runner func CreateLoadBalancedRunner(agents map[string]AgentHandler, maxConcurrency int) Runner🔄 Event Routing Route-Based Processing // Create agents with different capabilities agents := map[string]core.AgentHandler{ &#34;chat&#34;: chatAgent, &#34;search&#34;: searchAgent, &#34;analyze&#34;: analyzeAgent, } // Create route runner runner := core.CreateRouteRunner(agents) // Route to specific agent using metadata chatEvent := core.NewEvent(&#34;user_message&#34;, map[string]interface{}{&#34;message&#34;: &#34;Hello&#34;}, map[string]string{&#34;route&#34;: &#34;chat&#34;}, // Route to chat agent ) searchEvent := core.NewEvent(&#34;search_query&#34;, map[string]interface{}{&#34;query&#34;: &#34;latest news&#34;}, map[string]string{&#34;route&#34;: &#34;search&#34;}, // Route to search agent ) // Process events - each goes to specified agent chatResult, _ := runner.ProcessEvent(context.Background(), chatEvent) searchResult, _ := runner.ProcessEvent(context.Background(), searchEvent)Dynamic Routing // Create router function func routeEvent(event core.Event) string { data := event.GetData() // Route based on event content if query, ok := data[&#34;query&#34;].(string); ok { if strings.Contains(strings.ToLower(query), &#34;search&#34;) { return &#34;search&#34; } if strings.Contains(strings.ToLower(query), &#34;analyze&#34;) { return &#34;analyze&#34; } } // Default to chat return &#34;chat&#34; } // Use custom routing logic runner := core.CreateRouteRunnerWithRouter(agents, routeEvent)📈 Performance and Monitoring Execution Metrics // Enable metrics collection runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithMetrics(true). Build() // Process events result, err := runner.ProcessEvent(ctx, event) // Get execution metrics metrics := runner.GetMetrics() fmt.Printf(&#34;Total execution time: %v\n&#34;, metrics.TotalDuration) fmt.Printf(&#34;Agent execution times: %v\n&#34;, metrics.AgentDurations) fmt.Printf(&#34;Success rate: %.2f%%\n&#34;, metrics.SuccessRate*100)Health Checks // Check runner health health := runner.HealthCheck(ctx) if !health.Healthy { log.Printf(&#34;Runner unhealthy: %v&#34;, health.Issues) } // Check individual agent health for agentName := range agents { agentHealth := runner.CheckAgentHealth(ctx, agentName) if !agentHealth.Healthy { log.Printf(&#34;Agent %s unhealthy: %v&#34;, agentName, agentHealth.Issues) } }🛡️ Error Handling and Resilience Retry Policies retryPolicy := &amp;core.RetryPolicy{ MaxRetries: 3, InitialDelay: time.Second, MaxDelay: 30 * time.Second, BackoffFactor: 2.0, RetryableErrors: []error{ context.DeadlineExceeded, &amp;net.OpError{}, }, } runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithRetryPolicy(retryPolicy). Build()Circuit Breaker // Enable circuit breaker for fault tolerance runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithCircuitBreaker(&amp;core.CircuitBreakerConfig{ FailureThreshold: 5, // Open after 5 failures RecoveryTimeout: 30 * time.Second, HalfOpenRequests: 3, // Test with 3 requests when half-open }). Build()Graceful Degradation // Configure graceful degradation runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithFailureThreshold(0.6). // Continue if 60% of agents succeed WithGracefulDegradation(true). Build() // Even if some agents fail, you&#39;ll get partial results result, err := runner.ProcessEvent(ctx, event) if err != nil { // Check if it&#39;s a partial failure if partialErr, ok := err.(*core.PartialFailureError); ok { log.Printf(&#34;Partial failure: %d/%d agents succeeded&#34;, partialErr.SuccessCount, partialErr.TotalCount) // Use partial results usePartialResults(result) } }This comprehensive Orchestration API reference covers all aspects of multi-agent coordination in AgenticGoKit, from basic patterns to advanced configuration and monitoring.">
    <meta property="og:url" content="http://localhost:1313/AgenticGoKitDocs/reference/api/orchestration/index.html">
    <meta property="og:site_name" content="AgenticGoKit Docs">
    <meta property="og:title" content="orchestration :: AgenticGoKit Docs">
    <meta property="og:description" content="Orchestration API Multi-agent coordination and workflow patterns
This document covers AgenticGoKit’s Orchestration API, which enables sophisticated coordination between multiple agents. The orchestration system provides various patterns for agent collaboration, from simple routing to complex hybrid workflows.
📋 Core Concepts Orchestration Modes AgenticGoKit supports multiple orchestration patterns:
type OrchestrationMode string const ( // OrchestrationRoute sends each event to a single agent based on routing metadata (default) OrchestrationRoute OrchestrationMode = &#34;route&#34; // OrchestrationCollaborate sends each event to ALL registered agents in parallel OrchestrationCollaborate OrchestrationMode = &#34;collaborate&#34; // OrchestrationSequential processes agents one after another OrchestrationSequential OrchestrationMode = &#34;sequential&#34; // OrchestrationParallel processes agents in parallel (similar to collaborate) OrchestrationParallel OrchestrationMode = &#34;parallel&#34; // OrchestrationLoop repeats processing with a single agent OrchestrationLoop OrchestrationMode = &#34;loop&#34; // OrchestrationMixed combines collaborative and sequential patterns OrchestrationMixed OrchestrationMode = &#34;mixed&#34; )🚀 Basic Usage Route Orchestration (Default) // Create agents agents := map[string]core.AgentHandler{ &#34;greeter&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { name := event.Data[&#34;name&#34;].(string) return core.AgentResult{ Data: map[string]interface{}{ &#34;greeting&#34;: fmt.Sprintf(&#34;Hello, %s!&#34;, name), }, }, nil }), } // Create route runner (default behavior) runner := core.CreateRouteRunner(agents)Collaborative Orchestration // Create agents for parallel processing agents := map[string]core.AgentHandler{ &#34;researcher&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Research logic here return core.AgentResult{ Data: map[string]interface{}{ &#34;research_data&#34;: &#34;research results for &#34; &#43; query, }, }, nil }), &#34;analyzer&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Analysis logic here return core.AgentResult{ Data: map[string]interface{}{ &#34;analysis&#34;: &#34;analysis of &#34; &#43; query, }, }, nil }), &#34;validator&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Validation logic here return core.AgentResult{ Data: map[string]interface{}{ &#34;validation&#34;: &#34;validation of &#34; &#43; query, }, }, nil }), } // Create collaborative runner - all agents process in parallel runner := core.CreateCollaborativeRunner(agents, 2*time.Minute) // Process event - all agents will run simultaneously event := core.NewEvent(&#34;research&#34;, map[string]interface{}{ &#34;query&#34;: &#34;latest AI developments&#34;, }) results, err := runner.ProcessEvent(context.Background(), event) if err != nil { log.Fatal(err) } // Results contain output from all agents fmt.Printf(&#34;Research: %v\n&#34;, results[&#34;researcher&#34;].Data[&#34;research_data&#34;]) fmt.Printf(&#34;Analysis: %v\n&#34;, results[&#34;analyzer&#34;].Data[&#34;analysis&#34;]) fmt.Printf(&#34;Validation: %v\n&#34;, results[&#34;validator&#34;].Data[&#34;validation&#34;])Sequential Orchestration // Create agents for pipeline processing agents := map[string]core.AgentHandler{ &#34;collector&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Data collection logic collectedData := &#34;collected data for &#34; &#43; query // Pass data to next agent via state state.Set(&#34;collected_data&#34;, collectedData) return core.AgentResult{ Data: map[string]interface{}{ &#34;status&#34;: &#34;data collected&#34;, }, }, nil }), &#34;processor&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { // Get data from previous agent collectedData, _ := state.Get(&#34;collected_data&#34;) // Process the data processedData := &#34;processed &#34; &#43; collectedData.(string) state.Set(&#34;processed_data&#34;, processedData) return core.AgentResult{ Data: map[string]interface{}{ &#34;status&#34;: &#34;data processed&#34;, }, }, nil }), &#34;formatter&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { // Get processed data processedData, _ := state.Get(&#34;processed_data&#34;) // Format final output finalOutput := &#34;formatted &#34; &#43; processedData.(string) return core.AgentResult{ Data: map[string]interface{}{ &#34;final_output&#34;: finalOutput, }, }, nil }), } // Create sequential runner with ordered agent names runner := core.CreateSequentialRunner(agents, []string{&#34;collector&#34;, &#34;processor&#34;, &#34;formatter&#34;}) // Process event - agents run one after another event := core.NewEvent(&#34;process&#34;, map[string]interface{}{ &#34;query&#34;: &#34;user data&#34;, }) result, err := runner.ProcessEvent(context.Background(), event) if err != nil { log.Fatal(err) } fmt.Printf(&#34;Final output: %v\n&#34;, result.Data[&#34;final_output&#34;])Loop Orchestration // Create agent for iterative processing qualityChecker := core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { // Get current iteration count iteration, _ := state.Get(&#34;iteration&#34;) if iteration == nil { iteration = 0 } iterationCount := iteration.(int) &#43; 1 state.Set(&#34;iteration&#34;, iterationCount) // Get content to check content, ok := event.Data[&#34;content&#34;].(string) if !ok { content, _ = state.Get(&#34;content&#34;).(string) } // Simulate quality checking qualityScore := calculateQuality(content) // Improve content if quality is low if qualityScore &lt; 0.8 &amp;&amp; iterationCount &lt; 5 { improvedContent := improveContent(content) state.Set(&#34;content&#34;, improvedContent) return core.AgentResult{ Data: map[string]interface{}{ &#34;quality_score&#34;: qualityScore, &#34;iteration&#34;: iterationCount, &#34;continue&#34;: true, // Signal to continue loop }, }, nil } // Quality is good enough or max iterations reached return core.AgentResult{ Data: map[string]interface{}{ &#34;quality_score&#34;: qualityScore, &#34;iteration&#34;: iterationCount, &#34;final_content&#34;: content, &#34;continue&#34;: false, // Signal to stop loop }, }, nil }) // Create loop runner runner := core.CreateLoopRunner(qualityChecker, 5) // Max 5 iterations // Process event event := core.NewEvent(&#34;quality_check&#34;, map[string]interface{}{ &#34;content&#34;: &#34;initial content that needs improvement&#34;, }) result, err := runner.ProcessEvent(context.Background(), event) if err != nil { log.Fatal(err) } fmt.Printf(&#34;Final quality score: %v\n&#34;, result.Data[&#34;quality_score&#34;]) fmt.Printf(&#34;Iterations: %v\n&#34;, result.Data[&#34;iteration&#34;]) fmt.Printf(&#34;Final content: %v\n&#34;, result.Data[&#34;final_content&#34;])Mixed Orchestration // Create mixed orchestration with both collaborative and sequential phases builder := core.NewOrchestrationBuilder(core.OrchestrationMixed). WithCollaborativeAgents(map[string]core.AgentHandler{ &#34;analyzer&#34;: analyzerAgent, &#34;validator&#34;: validatorAgent, }). WithSequentialAgents(map[string]core.AgentHandler{ &#34;processor&#34;: processorAgent, &#34;reporter&#34;: reporterAgent, }). WithTimeout(5 * time.Minute). WithFailureThreshold(0.8) runner := builder.Build() // The mixed orchestration will: // 1. Run analyzer and validator in parallel (collaborative phase) // 2. Then run processor and reporter in sequence (sequential phase)🏗️ Orchestration Builder OrchestrationBuilder Interface type OrchestrationBuilder interface { WithAgents(agents map[string]AgentHandler) *OrchestrationBuilder WithCollaborativeAgents(agents map[string]AgentHandler) *OrchestrationBuilder WithSequentialAgents(agents map[string]AgentHandler) *OrchestrationBuilder WithTimeout(timeout time.Duration) *OrchestrationBuilder WithMaxIterations(max int) *OrchestrationBuilder WithFailureThreshold(threshold float64) *OrchestrationBuilder WithMaxConcurrency(max int) *OrchestrationBuilder WithRetryPolicy(policy *RetryPolicy) *OrchestrationBuilder Build() Runner GenerateMermaidDiagram() string GenerateMermaidDiagramWithConfig(config MermaidConfig) string }Advanced Configuration // Create sophisticated orchestration with all options runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithTimeout(2 * time.Minute). WithFailureThreshold(0.8). // 80% of agents must succeed WithMaxConcurrency(5). // Max 5 concurrent agents WithRetryPolicy(&amp;core.RetryPolicy{ MaxRetries: 3, InitialDelay: time.Second, MaxDelay: 30 * time.Second, BackoffFactor: 2.0, }). Build()📊 Workflow Visualization Generating Workflow Diagrams // Generate Mermaid diagram for orchestration builder := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents) // Generate basic diagram diagram := builder.GenerateMermaidDiagram() fmt.Println(diagram) // Generate diagram with custom configuration config := core.MermaidConfig{ DiagramType: core.FlowchartDiagram, Title: &#34;Research Workflow&#34;, Direction: &#34;TD&#34;, // Top-Down Theme: &#34;dark&#34;, ShowMetadata: true, ShowAgentTypes: true, CompactMode: false, } customDiagram := builder.GenerateMermaidDiagramWithConfig(config) fmt.Println(customDiagram) // Save diagram to file err := core.SaveDiagramAsMarkdown(&#34;workflow.md&#34;, &#34;Research Workflow&#34;, customDiagram) if err != nil { log.Printf(&#34;Failed to save diagram: %v&#34;, err) }Example Generated Diagram ---title: Collaborative Research Workflow---flowchart TDINPUT[&#34;🎯 Event Input&#34;]RESEARCHER[&#34;🤖 Researcher&lt;br/&gt;Type: Research Agent&lt;br/&gt;Timeout: 2m&#34;]ANALYZER[&#34;🤖 Analyzer&lt;br/&gt;Type: Analysis Agent&lt;br/&gt;Timeout: 2m&#34;]VALIDATOR[&#34;🤖 Validator&lt;br/&gt;Type: Validation Agent&lt;br/&gt;Timeout: 2m&#34;]OUTPUT[&#34;✅ Aggregated Result&#34;]INPUT --&gt; RESEARCHERINPUT --&gt; ANALYZERINPUT --&gt; VALIDATORRESEARCHER --&gt; OUTPUTANALYZER --&gt; OUTPUTVALIDATOR --&gt; OUTPUTstyle RESEARCHER fill:#e1f5festyle ANALYZER fill:#e8f5e8style VALIDATOR fill:#fff3e0🔧 Runner Interface Core Runner Methods type Runner interface { // ProcessEvent processes a single event through the orchestration ProcessEvent(ctx context.Context, event Event) (map[string]AgentResult, error) // RegisterAgent adds an agent to the orchestration RegisterAgent(name string, handler AgentHandler) error // UnregisterAgent removes an agent from the orchestration UnregisterAgent(name string) error // ListAgents returns all registered agent names ListAgents() []string // GetAgent retrieves a specific agent by name GetAgent(name string) (AgentHandler, bool) // SetOrchestrationMode changes the orchestration pattern SetOrchestrationMode(mode OrchestrationMode) error // GetOrchestrationMode returns the current orchestration pattern GetOrchestrationMode() OrchestrationMode // Stop gracefully shuts down the runner Stop() error }Runner Factory Functions // Create runners for specific patterns func CreateRouteRunner(agents map[string]AgentHandler) Runner func CreateCollaborativeRunner(agents map[string]AgentHandler, timeout time.Duration) Runner func CreateSequentialRunner(agents map[string]AgentHandler, order []string) Runner func CreateLoopRunner(agent AgentHandler, maxIterations int) Runner func CreateFaultTolerantRunner(agents map[string]AgentHandler) Runner func CreateLoadBalancedRunner(agents map[string]AgentHandler, maxConcurrency int) Runner🔄 Event Routing Route-Based Processing // Create agents with different capabilities agents := map[string]core.AgentHandler{ &#34;chat&#34;: chatAgent, &#34;search&#34;: searchAgent, &#34;analyze&#34;: analyzeAgent, } // Create route runner runner := core.CreateRouteRunner(agents) // Route to specific agent using metadata chatEvent := core.NewEvent(&#34;user_message&#34;, map[string]interface{}{&#34;message&#34;: &#34;Hello&#34;}, map[string]string{&#34;route&#34;: &#34;chat&#34;}, // Route to chat agent ) searchEvent := core.NewEvent(&#34;search_query&#34;, map[string]interface{}{&#34;query&#34;: &#34;latest news&#34;}, map[string]string{&#34;route&#34;: &#34;search&#34;}, // Route to search agent ) // Process events - each goes to specified agent chatResult, _ := runner.ProcessEvent(context.Background(), chatEvent) searchResult, _ := runner.ProcessEvent(context.Background(), searchEvent)Dynamic Routing // Create router function func routeEvent(event core.Event) string { data := event.GetData() // Route based on event content if query, ok := data[&#34;query&#34;].(string); ok { if strings.Contains(strings.ToLower(query), &#34;search&#34;) { return &#34;search&#34; } if strings.Contains(strings.ToLower(query), &#34;analyze&#34;) { return &#34;analyze&#34; } } // Default to chat return &#34;chat&#34; } // Use custom routing logic runner := core.CreateRouteRunnerWithRouter(agents, routeEvent)📈 Performance and Monitoring Execution Metrics // Enable metrics collection runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithMetrics(true). Build() // Process events result, err := runner.ProcessEvent(ctx, event) // Get execution metrics metrics := runner.GetMetrics() fmt.Printf(&#34;Total execution time: %v\n&#34;, metrics.TotalDuration) fmt.Printf(&#34;Agent execution times: %v\n&#34;, metrics.AgentDurations) fmt.Printf(&#34;Success rate: %.2f%%\n&#34;, metrics.SuccessRate*100)Health Checks // Check runner health health := runner.HealthCheck(ctx) if !health.Healthy { log.Printf(&#34;Runner unhealthy: %v&#34;, health.Issues) } // Check individual agent health for agentName := range agents { agentHealth := runner.CheckAgentHealth(ctx, agentName) if !agentHealth.Healthy { log.Printf(&#34;Agent %s unhealthy: %v&#34;, agentName, agentHealth.Issues) } }🛡️ Error Handling and Resilience Retry Policies retryPolicy := &amp;core.RetryPolicy{ MaxRetries: 3, InitialDelay: time.Second, MaxDelay: 30 * time.Second, BackoffFactor: 2.0, RetryableErrors: []error{ context.DeadlineExceeded, &amp;net.OpError{}, }, } runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithRetryPolicy(retryPolicy). Build()Circuit Breaker // Enable circuit breaker for fault tolerance runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithCircuitBreaker(&amp;core.CircuitBreakerConfig{ FailureThreshold: 5, // Open after 5 failures RecoveryTimeout: 30 * time.Second, HalfOpenRequests: 3, // Test with 3 requests when half-open }). Build()Graceful Degradation // Configure graceful degradation runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithFailureThreshold(0.6). // Continue if 60% of agents succeed WithGracefulDegradation(true). Build() // Even if some agents fail, you&#39;ll get partial results result, err := runner.ProcessEvent(ctx, event) if err != nil { // Check if it&#39;s a partial failure if partialErr, ok := err.(*core.PartialFailureError); ok { log.Printf(&#34;Partial failure: %d/%d agents succeeded&#34;, partialErr.SuccessCount, partialErr.TotalCount) // Use partial results usePartialResults(result) } }This comprehensive Orchestration API reference covers all aspects of multi-agent coordination in AgenticGoKit, from basic patterns to advanced configuration and monitoring.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="reference">
    <meta property="article:published_time" content="2025-07-25T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-07-25T00:00:00+00:00">
    <meta itemprop="name" content="orchestration :: AgenticGoKit Docs">
    <meta itemprop="description" content="Orchestration API Multi-agent coordination and workflow patterns
This document covers AgenticGoKit’s Orchestration API, which enables sophisticated coordination between multiple agents. The orchestration system provides various patterns for agent collaboration, from simple routing to complex hybrid workflows.
📋 Core Concepts Orchestration Modes AgenticGoKit supports multiple orchestration patterns:
type OrchestrationMode string const ( // OrchestrationRoute sends each event to a single agent based on routing metadata (default) OrchestrationRoute OrchestrationMode = &#34;route&#34; // OrchestrationCollaborate sends each event to ALL registered agents in parallel OrchestrationCollaborate OrchestrationMode = &#34;collaborate&#34; // OrchestrationSequential processes agents one after another OrchestrationSequential OrchestrationMode = &#34;sequential&#34; // OrchestrationParallel processes agents in parallel (similar to collaborate) OrchestrationParallel OrchestrationMode = &#34;parallel&#34; // OrchestrationLoop repeats processing with a single agent OrchestrationLoop OrchestrationMode = &#34;loop&#34; // OrchestrationMixed combines collaborative and sequential patterns OrchestrationMixed OrchestrationMode = &#34;mixed&#34; )🚀 Basic Usage Route Orchestration (Default) // Create agents agents := map[string]core.AgentHandler{ &#34;greeter&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { name := event.Data[&#34;name&#34;].(string) return core.AgentResult{ Data: map[string]interface{}{ &#34;greeting&#34;: fmt.Sprintf(&#34;Hello, %s!&#34;, name), }, }, nil }), } // Create route runner (default behavior) runner := core.CreateRouteRunner(agents)Collaborative Orchestration // Create agents for parallel processing agents := map[string]core.AgentHandler{ &#34;researcher&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Research logic here return core.AgentResult{ Data: map[string]interface{}{ &#34;research_data&#34;: &#34;research results for &#34; &#43; query, }, }, nil }), &#34;analyzer&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Analysis logic here return core.AgentResult{ Data: map[string]interface{}{ &#34;analysis&#34;: &#34;analysis of &#34; &#43; query, }, }, nil }), &#34;validator&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Validation logic here return core.AgentResult{ Data: map[string]interface{}{ &#34;validation&#34;: &#34;validation of &#34; &#43; query, }, }, nil }), } // Create collaborative runner - all agents process in parallel runner := core.CreateCollaborativeRunner(agents, 2*time.Minute) // Process event - all agents will run simultaneously event := core.NewEvent(&#34;research&#34;, map[string]interface{}{ &#34;query&#34;: &#34;latest AI developments&#34;, }) results, err := runner.ProcessEvent(context.Background(), event) if err != nil { log.Fatal(err) } // Results contain output from all agents fmt.Printf(&#34;Research: %v\n&#34;, results[&#34;researcher&#34;].Data[&#34;research_data&#34;]) fmt.Printf(&#34;Analysis: %v\n&#34;, results[&#34;analyzer&#34;].Data[&#34;analysis&#34;]) fmt.Printf(&#34;Validation: %v\n&#34;, results[&#34;validator&#34;].Data[&#34;validation&#34;])Sequential Orchestration // Create agents for pipeline processing agents := map[string]core.AgentHandler{ &#34;collector&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { query := event.Data[&#34;query&#34;].(string) // Data collection logic collectedData := &#34;collected data for &#34; &#43; query // Pass data to next agent via state state.Set(&#34;collected_data&#34;, collectedData) return core.AgentResult{ Data: map[string]interface{}{ &#34;status&#34;: &#34;data collected&#34;, }, }, nil }), &#34;processor&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { // Get data from previous agent collectedData, _ := state.Get(&#34;collected_data&#34;) // Process the data processedData := &#34;processed &#34; &#43; collectedData.(string) state.Set(&#34;processed_data&#34;, processedData) return core.AgentResult{ Data: map[string]interface{}{ &#34;status&#34;: &#34;data processed&#34;, }, }, nil }), &#34;formatter&#34;: core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { // Get processed data processedData, _ := state.Get(&#34;processed_data&#34;) // Format final output finalOutput := &#34;formatted &#34; &#43; processedData.(string) return core.AgentResult{ Data: map[string]interface{}{ &#34;final_output&#34;: finalOutput, }, }, nil }), } // Create sequential runner with ordered agent names runner := core.CreateSequentialRunner(agents, []string{&#34;collector&#34;, &#34;processor&#34;, &#34;formatter&#34;}) // Process event - agents run one after another event := core.NewEvent(&#34;process&#34;, map[string]interface{}{ &#34;query&#34;: &#34;user data&#34;, }) result, err := runner.ProcessEvent(context.Background(), event) if err != nil { log.Fatal(err) } fmt.Printf(&#34;Final output: %v\n&#34;, result.Data[&#34;final_output&#34;])Loop Orchestration // Create agent for iterative processing qualityChecker := core.AgentHandlerFunc(func(ctx context.Context, event core.Event, state core.State) (core.AgentResult, error) { // Get current iteration count iteration, _ := state.Get(&#34;iteration&#34;) if iteration == nil { iteration = 0 } iterationCount := iteration.(int) &#43; 1 state.Set(&#34;iteration&#34;, iterationCount) // Get content to check content, ok := event.Data[&#34;content&#34;].(string) if !ok { content, _ = state.Get(&#34;content&#34;).(string) } // Simulate quality checking qualityScore := calculateQuality(content) // Improve content if quality is low if qualityScore &lt; 0.8 &amp;&amp; iterationCount &lt; 5 { improvedContent := improveContent(content) state.Set(&#34;content&#34;, improvedContent) return core.AgentResult{ Data: map[string]interface{}{ &#34;quality_score&#34;: qualityScore, &#34;iteration&#34;: iterationCount, &#34;continue&#34;: true, // Signal to continue loop }, }, nil } // Quality is good enough or max iterations reached return core.AgentResult{ Data: map[string]interface{}{ &#34;quality_score&#34;: qualityScore, &#34;iteration&#34;: iterationCount, &#34;final_content&#34;: content, &#34;continue&#34;: false, // Signal to stop loop }, }, nil }) // Create loop runner runner := core.CreateLoopRunner(qualityChecker, 5) // Max 5 iterations // Process event event := core.NewEvent(&#34;quality_check&#34;, map[string]interface{}{ &#34;content&#34;: &#34;initial content that needs improvement&#34;, }) result, err := runner.ProcessEvent(context.Background(), event) if err != nil { log.Fatal(err) } fmt.Printf(&#34;Final quality score: %v\n&#34;, result.Data[&#34;quality_score&#34;]) fmt.Printf(&#34;Iterations: %v\n&#34;, result.Data[&#34;iteration&#34;]) fmt.Printf(&#34;Final content: %v\n&#34;, result.Data[&#34;final_content&#34;])Mixed Orchestration // Create mixed orchestration with both collaborative and sequential phases builder := core.NewOrchestrationBuilder(core.OrchestrationMixed). WithCollaborativeAgents(map[string]core.AgentHandler{ &#34;analyzer&#34;: analyzerAgent, &#34;validator&#34;: validatorAgent, }). WithSequentialAgents(map[string]core.AgentHandler{ &#34;processor&#34;: processorAgent, &#34;reporter&#34;: reporterAgent, }). WithTimeout(5 * time.Minute). WithFailureThreshold(0.8) runner := builder.Build() // The mixed orchestration will: // 1. Run analyzer and validator in parallel (collaborative phase) // 2. Then run processor and reporter in sequence (sequential phase)🏗️ Orchestration Builder OrchestrationBuilder Interface type OrchestrationBuilder interface { WithAgents(agents map[string]AgentHandler) *OrchestrationBuilder WithCollaborativeAgents(agents map[string]AgentHandler) *OrchestrationBuilder WithSequentialAgents(agents map[string]AgentHandler) *OrchestrationBuilder WithTimeout(timeout time.Duration) *OrchestrationBuilder WithMaxIterations(max int) *OrchestrationBuilder WithFailureThreshold(threshold float64) *OrchestrationBuilder WithMaxConcurrency(max int) *OrchestrationBuilder WithRetryPolicy(policy *RetryPolicy) *OrchestrationBuilder Build() Runner GenerateMermaidDiagram() string GenerateMermaidDiagramWithConfig(config MermaidConfig) string }Advanced Configuration // Create sophisticated orchestration with all options runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithTimeout(2 * time.Minute). WithFailureThreshold(0.8). // 80% of agents must succeed WithMaxConcurrency(5). // Max 5 concurrent agents WithRetryPolicy(&amp;core.RetryPolicy{ MaxRetries: 3, InitialDelay: time.Second, MaxDelay: 30 * time.Second, BackoffFactor: 2.0, }). Build()📊 Workflow Visualization Generating Workflow Diagrams // Generate Mermaid diagram for orchestration builder := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents) // Generate basic diagram diagram := builder.GenerateMermaidDiagram() fmt.Println(diagram) // Generate diagram with custom configuration config := core.MermaidConfig{ DiagramType: core.FlowchartDiagram, Title: &#34;Research Workflow&#34;, Direction: &#34;TD&#34;, // Top-Down Theme: &#34;dark&#34;, ShowMetadata: true, ShowAgentTypes: true, CompactMode: false, } customDiagram := builder.GenerateMermaidDiagramWithConfig(config) fmt.Println(customDiagram) // Save diagram to file err := core.SaveDiagramAsMarkdown(&#34;workflow.md&#34;, &#34;Research Workflow&#34;, customDiagram) if err != nil { log.Printf(&#34;Failed to save diagram: %v&#34;, err) }Example Generated Diagram ---title: Collaborative Research Workflow---flowchart TDINPUT[&#34;🎯 Event Input&#34;]RESEARCHER[&#34;🤖 Researcher&lt;br/&gt;Type: Research Agent&lt;br/&gt;Timeout: 2m&#34;]ANALYZER[&#34;🤖 Analyzer&lt;br/&gt;Type: Analysis Agent&lt;br/&gt;Timeout: 2m&#34;]VALIDATOR[&#34;🤖 Validator&lt;br/&gt;Type: Validation Agent&lt;br/&gt;Timeout: 2m&#34;]OUTPUT[&#34;✅ Aggregated Result&#34;]INPUT --&gt; RESEARCHERINPUT --&gt; ANALYZERINPUT --&gt; VALIDATORRESEARCHER --&gt; OUTPUTANALYZER --&gt; OUTPUTVALIDATOR --&gt; OUTPUTstyle RESEARCHER fill:#e1f5festyle ANALYZER fill:#e8f5e8style VALIDATOR fill:#fff3e0🔧 Runner Interface Core Runner Methods type Runner interface { // ProcessEvent processes a single event through the orchestration ProcessEvent(ctx context.Context, event Event) (map[string]AgentResult, error) // RegisterAgent adds an agent to the orchestration RegisterAgent(name string, handler AgentHandler) error // UnregisterAgent removes an agent from the orchestration UnregisterAgent(name string) error // ListAgents returns all registered agent names ListAgents() []string // GetAgent retrieves a specific agent by name GetAgent(name string) (AgentHandler, bool) // SetOrchestrationMode changes the orchestration pattern SetOrchestrationMode(mode OrchestrationMode) error // GetOrchestrationMode returns the current orchestration pattern GetOrchestrationMode() OrchestrationMode // Stop gracefully shuts down the runner Stop() error }Runner Factory Functions // Create runners for specific patterns func CreateRouteRunner(agents map[string]AgentHandler) Runner func CreateCollaborativeRunner(agents map[string]AgentHandler, timeout time.Duration) Runner func CreateSequentialRunner(agents map[string]AgentHandler, order []string) Runner func CreateLoopRunner(agent AgentHandler, maxIterations int) Runner func CreateFaultTolerantRunner(agents map[string]AgentHandler) Runner func CreateLoadBalancedRunner(agents map[string]AgentHandler, maxConcurrency int) Runner🔄 Event Routing Route-Based Processing // Create agents with different capabilities agents := map[string]core.AgentHandler{ &#34;chat&#34;: chatAgent, &#34;search&#34;: searchAgent, &#34;analyze&#34;: analyzeAgent, } // Create route runner runner := core.CreateRouteRunner(agents) // Route to specific agent using metadata chatEvent := core.NewEvent(&#34;user_message&#34;, map[string]interface{}{&#34;message&#34;: &#34;Hello&#34;}, map[string]string{&#34;route&#34;: &#34;chat&#34;}, // Route to chat agent ) searchEvent := core.NewEvent(&#34;search_query&#34;, map[string]interface{}{&#34;query&#34;: &#34;latest news&#34;}, map[string]string{&#34;route&#34;: &#34;search&#34;}, // Route to search agent ) // Process events - each goes to specified agent chatResult, _ := runner.ProcessEvent(context.Background(), chatEvent) searchResult, _ := runner.ProcessEvent(context.Background(), searchEvent)Dynamic Routing // Create router function func routeEvent(event core.Event) string { data := event.GetData() // Route based on event content if query, ok := data[&#34;query&#34;].(string); ok { if strings.Contains(strings.ToLower(query), &#34;search&#34;) { return &#34;search&#34; } if strings.Contains(strings.ToLower(query), &#34;analyze&#34;) { return &#34;analyze&#34; } } // Default to chat return &#34;chat&#34; } // Use custom routing logic runner := core.CreateRouteRunnerWithRouter(agents, routeEvent)📈 Performance and Monitoring Execution Metrics // Enable metrics collection runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithMetrics(true). Build() // Process events result, err := runner.ProcessEvent(ctx, event) // Get execution metrics metrics := runner.GetMetrics() fmt.Printf(&#34;Total execution time: %v\n&#34;, metrics.TotalDuration) fmt.Printf(&#34;Agent execution times: %v\n&#34;, metrics.AgentDurations) fmt.Printf(&#34;Success rate: %.2f%%\n&#34;, metrics.SuccessRate*100)Health Checks // Check runner health health := runner.HealthCheck(ctx) if !health.Healthy { log.Printf(&#34;Runner unhealthy: %v&#34;, health.Issues) } // Check individual agent health for agentName := range agents { agentHealth := runner.CheckAgentHealth(ctx, agentName) if !agentHealth.Healthy { log.Printf(&#34;Agent %s unhealthy: %v&#34;, agentName, agentHealth.Issues) } }🛡️ Error Handling and Resilience Retry Policies retryPolicy := &amp;core.RetryPolicy{ MaxRetries: 3, InitialDelay: time.Second, MaxDelay: 30 * time.Second, BackoffFactor: 2.0, RetryableErrors: []error{ context.DeadlineExceeded, &amp;net.OpError{}, }, } runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithRetryPolicy(retryPolicy). Build()Circuit Breaker // Enable circuit breaker for fault tolerance runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithCircuitBreaker(&amp;core.CircuitBreakerConfig{ FailureThreshold: 5, // Open after 5 failures RecoveryTimeout: 30 * time.Second, HalfOpenRequests: 3, // Test with 3 requests when half-open }). Build()Graceful Degradation // Configure graceful degradation runner := core.NewOrchestrationBuilder(core.OrchestrationCollaborate). WithAgents(agents). WithFailureThreshold(0.6). // Continue if 60% of agents succeed WithGracefulDegradation(true). Build() // Even if some agents fail, you&#39;ll get partial results result, err := runner.ProcessEvent(ctx, event) if err != nil { // Check if it&#39;s a partial failure if partialErr, ok := err.(*core.PartialFailureError); ok { log.Printf(&#34;Partial failure: %d/%d agents succeeded&#34;, partialErr.SuccessCount, partialErr.TotalCount) // Use partial results usePartialResults(result) } }This comprehensive Orchestration API reference covers all aspects of multi-agent coordination in AgenticGoKit, from basic patterns to advanced configuration and monitoring.">
    <meta itemprop="datePublished" content="2025-07-25T00:00:00+00:00">
    <meta itemprop="dateModified" content="2025-07-25T00:00:00+00:00">
    <meta itemprop="wordCount" content="1522">
    <title>orchestration :: AgenticGoKit Docs</title>
    <link href="/AgenticGoKitDocs/css/auto-complete/auto-complete.min.css?1753430931" rel="stylesheet">
    <script src="/AgenticGoKitDocs/js/auto-complete/auto-complete.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/search-lunr.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/search.js?1753430931" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/AgenticGoKitDocs/searchindex.en.js?1753430931";
    </script>
    <script src="/AgenticGoKitDocs/js/lunr/lunr.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/lunr/lunr.stemmer.support.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/lunr/lunr.multi.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/lunr/lunr.en.min.js?1753430931" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/AgenticGoKitDocs/fonts/fontawesome/css/fontawesome-all.min.css?1753430931" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/AgenticGoKitDocs/fonts/fontawesome/css/fontawesome-all.min.css?1753430931" rel="stylesheet"></noscript>
    <link href="/AgenticGoKitDocs/css/perfect-scrollbar/perfect-scrollbar.min.css?1753430931" rel="stylesheet">
    <link href="/AgenticGoKitDocs/css/theme.css?1753430931" rel="stylesheet">
    <link href="/AgenticGoKitDocs/css/format-html.css?1753430931" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = ``;
      window.relearn.path='\/reference\/api\/orchestration\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313\/AgenticGoKitDocs';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'blue' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="/AgenticGoKitDocs/reference/api/orchestration/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#-core-concepts">📋 Core Concepts</a>
      <ul>
        <li><a href="#orchestration-modes">Orchestration Modes</a></li>
      </ul>
    </li>
    <li><a href="#-basic-usage">🚀 Basic Usage</a>
      <ul>
        <li><a href="#route-orchestration-default">Route Orchestration (Default)</a></li>
        <li><a href="#collaborative-orchestration">Collaborative Orchestration</a></li>
        <li><a href="#sequential-orchestration">Sequential Orchestration</a></li>
        <li><a href="#loop-orchestration">Loop Orchestration</a></li>
        <li><a href="#mixed-orchestration">Mixed Orchestration</a></li>
      </ul>
    </li>
    <li><a href="#-orchestration-builder">🏗️ Orchestration Builder</a>
      <ul>
        <li><a href="#orchestrationbuilder-interface">OrchestrationBuilder Interface</a></li>
        <li><a href="#advanced-configuration">Advanced Configuration</a></li>
      </ul>
    </li>
    <li><a href="#-workflow-visualization">📊 Workflow Visualization</a>
      <ul>
        <li><a href="#generating-workflow-diagrams">Generating Workflow Diagrams</a></li>
        <li><a href="#example-generated-diagram">Example Generated Diagram</a></li>
      </ul>
    </li>
    <li><a href="#-runner-interface">🔧 Runner Interface</a>
      <ul>
        <li><a href="#core-runner-methods">Core Runner Methods</a></li>
        <li><a href="#runner-factory-functions">Runner Factory Functions</a></li>
      </ul>
    </li>
    <li><a href="#-event-routing">🔄 Event Routing</a>
      <ul>
        <li><a href="#route-based-processing">Route-Based Processing</a></li>
        <li><a href="#dynamic-routing">Dynamic Routing</a></li>
      </ul>
    </li>
    <li><a href="#-performance-and-monitoring">📈 Performance and Monitoring</a>
      <ul>
        <li><a href="#execution-metrics">Execution Metrics</a></li>
        <li><a href="#health-checks">Health Checks</a></li>
      </ul>
    </li>
    <li><a href="#-error-handling-and-resilience">🛡️ Error Handling and Resilience</a>
      <ul>
        <li><a href="#retry-policies">Retry Policies</a></li>
        <li><a href="#circuit-breaker">Circuit Breaker</a></li>
        <li><a href="#graceful-degradation">Graceful Degradation</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/AgenticGoKitDocs/index.html"><span itemprop="name">content</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/AgenticGoKitDocs/reference/index.html"><span itemprop="name">reference</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">orchestration</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/AgenticGoKitDocs/reference/api/memory/index.html" title="memory (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/AgenticGoKitDocs/reference/api/state-event/index.html" title="state-event (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable reference" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="orchestration">orchestration</h1>

<h1 id="orchestration-api">Orchestration API</h1>
<p><strong>Multi-agent coordination and workflow patterns</strong></p>
<p>This document covers AgenticGoKit&rsquo;s Orchestration API, which enables sophisticated coordination between multiple agents. The orchestration system provides various patterns for agent collaboration, from simple routing to complex hybrid workflows.</p>
<h2 id="-core-concepts">📋 Core Concepts</h2>
<h3 id="orchestration-modes">Orchestration Modes</h3>
<p>AgenticGoKit supports multiple orchestration patterns:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">OrchestrationMode</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// OrchestrationRoute sends each event to a single agent based on routing metadata (default)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">OrchestrationRoute</span> <span style="color:#a6e22e">OrchestrationMode</span> = <span style="color:#e6db74">&#34;route&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// OrchestrationCollaborate sends each event to ALL registered agents in parallel</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">OrchestrationCollaborate</span> <span style="color:#a6e22e">OrchestrationMode</span> = <span style="color:#e6db74">&#34;collaborate&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// OrchestrationSequential processes agents one after another</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">OrchestrationSequential</span> <span style="color:#a6e22e">OrchestrationMode</span> = <span style="color:#e6db74">&#34;sequential&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// OrchestrationParallel processes agents in parallel (similar to collaborate)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">OrchestrationParallel</span> <span style="color:#a6e22e">OrchestrationMode</span> = <span style="color:#e6db74">&#34;parallel&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// OrchestrationLoop repeats processing with a single agent</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">OrchestrationLoop</span> <span style="color:#a6e22e">OrchestrationMode</span> = <span style="color:#e6db74">&#34;loop&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// OrchestrationMixed combines collaborative and sequential patterns</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">OrchestrationMixed</span> <span style="color:#a6e22e">OrchestrationMode</span> = <span style="color:#e6db74">&#34;mixed&#34;</span>
</span></span><span style="display:flex;"><span>)</span></span></code></pre></div>
<h2 id="-basic-usage">🚀 Basic Usage</h2>
<h3 id="route-orchestration-default">Route Orchestration (Default)</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Create agents</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">agents</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandler</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;greeter&#34;</span>: <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandlerFunc</span>(<span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">event</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">Event</span>, <span style="color:#a6e22e">state</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">State</span>) (<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">name</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">Data</span>[<span style="color:#e6db74">&#34;name&#34;</span>].(<span style="color:#66d9ef">string</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Data</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;greeting&#34;</span>: <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;Hello, %s!&#34;</span>, <span style="color:#a6e22e">name</span>),
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        }, <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    }),
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Create route runner (default behavior)</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">runner</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">CreateRouteRunner</span>(<span style="color:#a6e22e">agents</span>)</span></span></code></pre></div>
<h3 id="collaborative-orchestration">Collaborative Orchestration</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Create agents for parallel processing</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">agents</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandler</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;researcher&#34;</span>: <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandlerFunc</span>(<span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">event</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">Event</span>, <span style="color:#a6e22e">state</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">State</span>) (<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">query</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">Data</span>[<span style="color:#e6db74">&#34;query&#34;</span>].(<span style="color:#66d9ef">string</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Research logic here</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Data</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;research_data&#34;</span>: <span style="color:#e6db74">&#34;research results for &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">query</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        }, <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    }),
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;analyzer&#34;</span>: <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandlerFunc</span>(<span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">event</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">Event</span>, <span style="color:#a6e22e">state</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">State</span>) (<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">query</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">Data</span>[<span style="color:#e6db74">&#34;query&#34;</span>].(<span style="color:#66d9ef">string</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Analysis logic here</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Data</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;analysis&#34;</span>: <span style="color:#e6db74">&#34;analysis of &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">query</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        }, <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    }),
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;validator&#34;</span>: <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandlerFunc</span>(<span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">event</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">Event</span>, <span style="color:#a6e22e">state</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">State</span>) (<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">query</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">Data</span>[<span style="color:#e6db74">&#34;query&#34;</span>].(<span style="color:#66d9ef">string</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Validation logic here</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Data</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;validation&#34;</span>: <span style="color:#e6db74">&#34;validation of &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">query</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        }, <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    }),
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Create collaborative runner - all agents process in parallel</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">runner</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">CreateCollaborativeRunner</span>(<span style="color:#a6e22e">agents</span>, <span style="color:#ae81ff">2</span><span style="color:#f92672">*</span><span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Minute</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Process event - all agents will run simultaneously</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">event</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewEvent</span>(<span style="color:#e6db74">&#34;research&#34;</span>, <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;query&#34;</span>: <span style="color:#e6db74">&#34;latest AI developments&#34;</span>,
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">results</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">runner</span>.<span style="color:#a6e22e">ProcessEvent</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#a6e22e">event</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatal</span>(<span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Results contain output from all agents</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Research: %v\n&#34;</span>, <span style="color:#a6e22e">results</span>[<span style="color:#e6db74">&#34;researcher&#34;</span>].<span style="color:#a6e22e">Data</span>[<span style="color:#e6db74">&#34;research_data&#34;</span>])
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Analysis: %v\n&#34;</span>, <span style="color:#a6e22e">results</span>[<span style="color:#e6db74">&#34;analyzer&#34;</span>].<span style="color:#a6e22e">Data</span>[<span style="color:#e6db74">&#34;analysis&#34;</span>])
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Validation: %v\n&#34;</span>, <span style="color:#a6e22e">results</span>[<span style="color:#e6db74">&#34;validator&#34;</span>].<span style="color:#a6e22e">Data</span>[<span style="color:#e6db74">&#34;validation&#34;</span>])</span></span></code></pre></div>
<h3 id="sequential-orchestration">Sequential Orchestration</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Create agents for pipeline processing</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">agents</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandler</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;collector&#34;</span>: <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandlerFunc</span>(<span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">event</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">Event</span>, <span style="color:#a6e22e">state</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">State</span>) (<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">query</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">Data</span>[<span style="color:#e6db74">&#34;query&#34;</span>].(<span style="color:#66d9ef">string</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Data collection logic</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">collectedData</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;collected data for &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">query</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Pass data to next agent via state</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Set</span>(<span style="color:#e6db74">&#34;collected_data&#34;</span>, <span style="color:#a6e22e">collectedData</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Data</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;status&#34;</span>: <span style="color:#e6db74">&#34;data collected&#34;</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        }, <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    }),
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;processor&#34;</span>: <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandlerFunc</span>(<span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">event</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">Event</span>, <span style="color:#a6e22e">state</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">State</span>) (<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Get data from previous agent</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">collectedData</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;collected_data&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Process the data</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">processedData</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;processed &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">collectedData</span>.(<span style="color:#66d9ef">string</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Set</span>(<span style="color:#e6db74">&#34;processed_data&#34;</span>, <span style="color:#a6e22e">processedData</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Data</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;status&#34;</span>: <span style="color:#e6db74">&#34;data processed&#34;</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        }, <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    }),
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;formatter&#34;</span>: <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandlerFunc</span>(<span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">event</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">Event</span>, <span style="color:#a6e22e">state</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">State</span>) (<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Get processed data</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">processedData</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;processed_data&#34;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Format final output</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">finalOutput</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;formatted &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">processedData</span>.(<span style="color:#66d9ef">string</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Data</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;final_output&#34;</span>: <span style="color:#a6e22e">finalOutput</span>,
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        }, <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    }),
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Create sequential runner with ordered agent names</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">runner</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">CreateSequentialRunner</span>(<span style="color:#a6e22e">agents</span>, []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;collector&#34;</span>, <span style="color:#e6db74">&#34;processor&#34;</span>, <span style="color:#e6db74">&#34;formatter&#34;</span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Process event - agents run one after another</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">event</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewEvent</span>(<span style="color:#e6db74">&#34;process&#34;</span>, <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;query&#34;</span>: <span style="color:#e6db74">&#34;user data&#34;</span>,
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">result</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">runner</span>.<span style="color:#a6e22e">ProcessEvent</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#a6e22e">event</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatal</span>(<span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Final output: %v\n&#34;</span>, <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">Data</span>[<span style="color:#e6db74">&#34;final_output&#34;</span>])</span></span></code></pre></div>
<h3 id="loop-orchestration">Loop Orchestration</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Create agent for iterative processing</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">qualityChecker</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandlerFunc</span>(<span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">event</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">Event</span>, <span style="color:#a6e22e">state</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">State</span>) (<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Get current iteration count</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">iteration</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;iteration&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">iteration</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">iteration</span> = <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">iterationCount</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">iteration</span>.(<span style="color:#66d9ef">int</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Set</span>(<span style="color:#e6db74">&#34;iteration&#34;</span>, <span style="color:#a6e22e">iterationCount</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Get content to check</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">content</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">Data</span>[<span style="color:#e6db74">&#34;content&#34;</span>].(<span style="color:#66d9ef">string</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">ok</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">content</span>, <span style="color:#a6e22e">_</span> = <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#e6db74">&#34;content&#34;</span>).(<span style="color:#66d9ef">string</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Simulate quality checking</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">qualityScore</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">calculateQuality</span>(<span style="color:#a6e22e">content</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Improve content if quality is low</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">qualityScore</span> &lt; <span style="color:#ae81ff">0.8</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">iterationCount</span> &lt; <span style="color:#ae81ff">5</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">improvedContent</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">improveContent</span>(<span style="color:#a6e22e">content</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Set</span>(<span style="color:#e6db74">&#34;content&#34;</span>, <span style="color:#a6e22e">improvedContent</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Data</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;quality_score&#34;</span>: <span style="color:#a6e22e">qualityScore</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;iteration&#34;</span>:     <span style="color:#a6e22e">iterationCount</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;continue&#34;</span>:      <span style="color:#66d9ef">true</span>, <span style="color:#75715e">// Signal to continue loop</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>        }, <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Quality is good enough or max iterations reached</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Data</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;quality_score&#34;</span>:  <span style="color:#a6e22e">qualityScore</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;iteration&#34;</span>:      <span style="color:#a6e22e">iterationCount</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;final_content&#34;</span>:  <span style="color:#a6e22e">content</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;continue&#34;</span>:       <span style="color:#66d9ef">false</span>, <span style="color:#75715e">// Signal to stop loop</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    }, <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Create loop runner</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">runner</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">CreateLoopRunner</span>(<span style="color:#a6e22e">qualityChecker</span>, <span style="color:#ae81ff">5</span>) <span style="color:#75715e">// Max 5 iterations</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Process event</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">event</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewEvent</span>(<span style="color:#e6db74">&#34;quality_check&#34;</span>, <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;initial content that needs improvement&#34;</span>,
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">result</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">runner</span>.<span style="color:#a6e22e">ProcessEvent</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#a6e22e">event</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatal</span>(<span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Final quality score: %v\n&#34;</span>, <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">Data</span>[<span style="color:#e6db74">&#34;quality_score&#34;</span>])
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Iterations: %v\n&#34;</span>, <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">Data</span>[<span style="color:#e6db74">&#34;iteration&#34;</span>])
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Final content: %v\n&#34;</span>, <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">Data</span>[<span style="color:#e6db74">&#34;final_content&#34;</span>])</span></span></code></pre></div>
<h3 id="mixed-orchestration">Mixed Orchestration</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Create mixed orchestration with both collaborative and sequential phases</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">builder</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewOrchestrationBuilder</span>(<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">OrchestrationMixed</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithCollaborativeAgents</span>(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandler</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;analyzer&#34;</span>: <span style="color:#a6e22e">analyzerAgent</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;validator&#34;</span>: <span style="color:#a6e22e">validatorAgent</span>,
</span></span><span style="display:flex;"><span>    }).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithSequentialAgents</span>(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandler</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;processor&#34;</span>: <span style="color:#a6e22e">processorAgent</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;reporter&#34;</span>: <span style="color:#a6e22e">reporterAgent</span>,
</span></span><span style="display:flex;"><span>    }).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithTimeout</span>(<span style="color:#ae81ff">5</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Minute</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithFailureThreshold</span>(<span style="color:#ae81ff">0.8</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">runner</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">builder</span>.<span style="color:#a6e22e">Build</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// The mixed orchestration will:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 1. Run analyzer and validator in parallel (collaborative phase)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 2. Then run processor and reporter in sequence (sequential phase)</span></span></span></code></pre></div>
<h2 id="-orchestration-builder">🏗️ Orchestration Builder</h2>
<h3 id="orchestrationbuilder-interface">OrchestrationBuilder Interface</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">OrchestrationBuilder</span> <span style="color:#66d9ef">interface</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithAgents</span>(<span style="color:#a6e22e">agents</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">AgentHandler</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">OrchestrationBuilder</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithCollaborativeAgents</span>(<span style="color:#a6e22e">agents</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">AgentHandler</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">OrchestrationBuilder</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithSequentialAgents</span>(<span style="color:#a6e22e">agents</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">AgentHandler</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">OrchestrationBuilder</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithTimeout</span>(<span style="color:#a6e22e">timeout</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Duration</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">OrchestrationBuilder</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithMaxIterations</span>(<span style="color:#a6e22e">max</span> <span style="color:#66d9ef">int</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">OrchestrationBuilder</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithFailureThreshold</span>(<span style="color:#a6e22e">threshold</span> <span style="color:#66d9ef">float64</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">OrchestrationBuilder</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithMaxConcurrency</span>(<span style="color:#a6e22e">max</span> <span style="color:#66d9ef">int</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">OrchestrationBuilder</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithRetryPolicy</span>(<span style="color:#a6e22e">policy</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">RetryPolicy</span>) <span style="color:#f92672">*</span><span style="color:#a6e22e">OrchestrationBuilder</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Build</span>() <span style="color:#a6e22e">Runner</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">GenerateMermaidDiagram</span>() <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">GenerateMermaidDiagramWithConfig</span>(<span style="color:#a6e22e">config</span> <span style="color:#a6e22e">MermaidConfig</span>) <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="advanced-configuration">Advanced Configuration</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Create sophisticated orchestration with all options</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">runner</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewOrchestrationBuilder</span>(<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">OrchestrationCollaborate</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithAgents</span>(<span style="color:#a6e22e">agents</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithTimeout</span>(<span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Minute</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithFailureThreshold</span>(<span style="color:#ae81ff">0.8</span>).        <span style="color:#75715e">// 80% of agents must succeed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithMaxConcurrency</span>(<span style="color:#ae81ff">5</span>).             <span style="color:#75715e">// Max 5 concurrent agents</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithRetryPolicy</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">RetryPolicy</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">MaxRetries</span>:    <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">InitialDelay</span>:  <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Second</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">MaxDelay</span>:      <span style="color:#ae81ff">30</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Second</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">BackoffFactor</span>: <span style="color:#ae81ff">2.0</span>,
</span></span><span style="display:flex;"><span>    }).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Build</span>()</span></span></code></pre></div>
<h2 id="-workflow-visualization">📊 Workflow Visualization</h2>
<h3 id="generating-workflow-diagrams">Generating Workflow Diagrams</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Generate Mermaid diagram for orchestration</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">builder</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewOrchestrationBuilder</span>(<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">OrchestrationCollaborate</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithAgents</span>(<span style="color:#a6e22e">agents</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Generate basic diagram</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">diagram</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">builder</span>.<span style="color:#a6e22e">GenerateMermaidDiagram</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">diagram</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Generate diagram with custom configuration</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">config</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">MermaidConfig</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">DiagramType</span>:    <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">FlowchartDiagram</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Title</span>:          <span style="color:#e6db74">&#34;Research Workflow&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Direction</span>:      <span style="color:#e6db74">&#34;TD&#34;</span>, <span style="color:#75715e">// Top-Down</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Theme</span>:          <span style="color:#e6db74">&#34;dark&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ShowMetadata</span>:   <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ShowAgentTypes</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">CompactMode</span>:    <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">customDiagram</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">builder</span>.<span style="color:#a6e22e">GenerateMermaidDiagramWithConfig</span>(<span style="color:#a6e22e">config</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">customDiagram</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Save diagram to file</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">SaveDiagramAsMarkdown</span>(<span style="color:#e6db74">&#34;workflow.md&#34;</span>, <span style="color:#e6db74">&#34;Research Workflow&#34;</span>, <span style="color:#a6e22e">customDiagram</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Failed to save diagram: %v&#34;</span>, <span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="example-generated-diagram">Example Generated Diagram</h3>
<pre class="mermaid align-center ">---
title: Collaborative Research Workflow
---
flowchart TD
    INPUT[&#34;🎯 Event Input&#34;]
    RESEARCHER[&#34;🤖 Researcher&lt;br/&gt;Type: Research Agent&lt;br/&gt;Timeout: 2m&#34;]
    ANALYZER[&#34;🤖 Analyzer&lt;br/&gt;Type: Analysis Agent&lt;br/&gt;Timeout: 2m&#34;]
    VALIDATOR[&#34;🤖 Validator&lt;br/&gt;Type: Validation Agent&lt;br/&gt;Timeout: 2m&#34;]
    OUTPUT[&#34;✅ Aggregated Result&#34;]
    
    INPUT --&gt; RESEARCHER
    INPUT --&gt; ANALYZER
    INPUT --&gt; VALIDATOR
    RESEARCHER --&gt; OUTPUT
    ANALYZER --&gt; OUTPUT
    VALIDATOR --&gt; OUTPUT
    
    style RESEARCHER fill:#e1f5fe
    style ANALYZER fill:#e8f5e8
    style VALIDATOR fill:#fff3e0</pre>
<h2 id="-runner-interface">🔧 Runner Interface</h2>
<h3 id="core-runner-methods">Core Runner Methods</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Runner</span> <span style="color:#66d9ef">interface</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ProcessEvent processes a single event through the orchestration</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ProcessEvent</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">event</span> <span style="color:#a6e22e">Event</span>) (<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">AgentResult</span>, <span style="color:#66d9ef">error</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// RegisterAgent adds an agent to the orchestration</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">RegisterAgent</span>(<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">handler</span> <span style="color:#a6e22e">AgentHandler</span>) <span style="color:#66d9ef">error</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// UnregisterAgent removes an agent from the orchestration</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">UnregisterAgent</span>(<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">error</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ListAgents returns all registered agent names</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ListAgents</span>() []<span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// GetAgent retrieves a specific agent by name</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">GetAgent</span>(<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>) (<span style="color:#a6e22e">AgentHandler</span>, <span style="color:#66d9ef">bool</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// SetOrchestrationMode changes the orchestration pattern</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">SetOrchestrationMode</span>(<span style="color:#a6e22e">mode</span> <span style="color:#a6e22e">OrchestrationMode</span>) <span style="color:#66d9ef">error</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// GetOrchestrationMode returns the current orchestration pattern</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">GetOrchestrationMode</span>() <span style="color:#a6e22e">OrchestrationMode</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Stop gracefully shuts down the runner</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Stop</span>() <span style="color:#66d9ef">error</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="runner-factory-functions">Runner Factory Functions</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Create runners for specific patterns</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">CreateRouteRunner</span>(<span style="color:#a6e22e">agents</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">AgentHandler</span>) <span style="color:#a6e22e">Runner</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">CreateCollaborativeRunner</span>(<span style="color:#a6e22e">agents</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">AgentHandler</span>, <span style="color:#a6e22e">timeout</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Duration</span>) <span style="color:#a6e22e">Runner</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">CreateSequentialRunner</span>(<span style="color:#a6e22e">agents</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">AgentHandler</span>, <span style="color:#a6e22e">order</span> []<span style="color:#66d9ef">string</span>) <span style="color:#a6e22e">Runner</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">CreateLoopRunner</span>(<span style="color:#a6e22e">agent</span> <span style="color:#a6e22e">AgentHandler</span>, <span style="color:#a6e22e">maxIterations</span> <span style="color:#66d9ef">int</span>) <span style="color:#a6e22e">Runner</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">CreateFaultTolerantRunner</span>(<span style="color:#a6e22e">agents</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">AgentHandler</span>) <span style="color:#a6e22e">Runner</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">CreateLoadBalancedRunner</span>(<span style="color:#a6e22e">agents</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">AgentHandler</span>, <span style="color:#a6e22e">maxConcurrency</span> <span style="color:#66d9ef">int</span>) <span style="color:#a6e22e">Runner</span></span></span></code></pre></div>
<h2 id="-event-routing">🔄 Event Routing</h2>
<h3 id="route-based-processing">Route-Based Processing</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Create agents with different capabilities</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">agents</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandler</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;chat&#34;</span>:     <span style="color:#a6e22e">chatAgent</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;search&#34;</span>:   <span style="color:#a6e22e">searchAgent</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;analyze&#34;</span>:  <span style="color:#a6e22e">analyzeAgent</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Create route runner</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">runner</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">CreateRouteRunner</span>(<span style="color:#a6e22e">agents</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Route to specific agent using metadata</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">chatEvent</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewEvent</span>(<span style="color:#e6db74">&#34;user_message&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{<span style="color:#e6db74">&#34;message&#34;</span>: <span style="color:#e6db74">&#34;Hello&#34;</span>},
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;route&#34;</span>: <span style="color:#e6db74">&#34;chat&#34;</span>}, <span style="color:#75715e">// Route to chat agent</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">searchEvent</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewEvent</span>(<span style="color:#e6db74">&#34;search_query&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{<span style="color:#e6db74">&#34;query&#34;</span>: <span style="color:#e6db74">&#34;latest news&#34;</span>},
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;route&#34;</span>: <span style="color:#e6db74">&#34;search&#34;</span>}, <span style="color:#75715e">// Route to search agent</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Process events - each goes to specified agent</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">chatResult</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">runner</span>.<span style="color:#a6e22e">ProcessEvent</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#a6e22e">chatEvent</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">searchResult</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">runner</span>.<span style="color:#a6e22e">ProcessEvent</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#a6e22e">searchEvent</span>)</span></span></code></pre></div>
<h3 id="dynamic-routing">Dynamic Routing</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Create router function</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">routeEvent</span>(<span style="color:#a6e22e">event</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">Event</span>) <span style="color:#66d9ef">string</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">data</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">GetData</span>()
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Route based on event content</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">query</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">data</span>[<span style="color:#e6db74">&#34;query&#34;</span>].(<span style="color:#66d9ef">string</span>); <span style="color:#a6e22e">ok</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">Contains</span>(<span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">ToLower</span>(<span style="color:#a6e22e">query</span>), <span style="color:#e6db74">&#34;search&#34;</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;search&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">Contains</span>(<span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">ToLower</span>(<span style="color:#a6e22e">query</span>), <span style="color:#e6db74">&#34;analyze&#34;</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;analyze&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Default to chat</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;chat&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Use custom routing logic</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">runner</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">CreateRouteRunnerWithRouter</span>(<span style="color:#a6e22e">agents</span>, <span style="color:#a6e22e">routeEvent</span>)</span></span></code></pre></div>
<h2 id="-performance-and-monitoring">📈 Performance and Monitoring</h2>
<h3 id="execution-metrics">Execution Metrics</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Enable metrics collection</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">runner</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewOrchestrationBuilder</span>(<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">OrchestrationCollaborate</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithAgents</span>(<span style="color:#a6e22e">agents</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithMetrics</span>(<span style="color:#66d9ef">true</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Build</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Process events</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">result</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">runner</span>.<span style="color:#a6e22e">ProcessEvent</span>(<span style="color:#a6e22e">ctx</span>, <span style="color:#a6e22e">event</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Get execution metrics</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">metrics</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">runner</span>.<span style="color:#a6e22e">GetMetrics</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Total execution time: %v\n&#34;</span>, <span style="color:#a6e22e">metrics</span>.<span style="color:#a6e22e">TotalDuration</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Agent execution times: %v\n&#34;</span>, <span style="color:#a6e22e">metrics</span>.<span style="color:#a6e22e">AgentDurations</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Success rate: %.2f%%\n&#34;</span>, <span style="color:#a6e22e">metrics</span>.<span style="color:#a6e22e">SuccessRate</span><span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>)</span></span></code></pre></div>
<h3 id="health-checks">Health Checks</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Check runner health</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">health</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">runner</span>.<span style="color:#a6e22e">HealthCheck</span>(<span style="color:#a6e22e">ctx</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">health</span>.<span style="color:#a6e22e">Healthy</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Runner unhealthy: %v&#34;</span>, <span style="color:#a6e22e">health</span>.<span style="color:#a6e22e">Issues</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Check individual agent health</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> <span style="color:#a6e22e">agentName</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">agents</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">agentHealth</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">runner</span>.<span style="color:#a6e22e">CheckAgentHealth</span>(<span style="color:#a6e22e">ctx</span>, <span style="color:#a6e22e">agentName</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">agentHealth</span>.<span style="color:#a6e22e">Healthy</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Agent %s unhealthy: %v&#34;</span>, <span style="color:#a6e22e">agentName</span>, <span style="color:#a6e22e">agentHealth</span>.<span style="color:#a6e22e">Issues</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="-error-handling-and-resilience">🛡️ Error Handling and Resilience</h2>
<h3 id="retry-policies">Retry Policies</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">retryPolicy</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">RetryPolicy</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">MaxRetries</span>:    <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">InitialDelay</span>:  <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Second</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">MaxDelay</span>:      <span style="color:#ae81ff">30</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Second</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">BackoffFactor</span>: <span style="color:#ae81ff">2.0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">RetryableErrors</span>: []<span style="color:#66d9ef">error</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">DeadlineExceeded</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">net</span>.<span style="color:#a6e22e">OpError</span>{},
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">runner</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewOrchestrationBuilder</span>(<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">OrchestrationCollaborate</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithAgents</span>(<span style="color:#a6e22e">agents</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithRetryPolicy</span>(<span style="color:#a6e22e">retryPolicy</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Build</span>()</span></span></code></pre></div>
<h3 id="circuit-breaker">Circuit Breaker</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Enable circuit breaker for fault tolerance</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">runner</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewOrchestrationBuilder</span>(<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">OrchestrationCollaborate</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithAgents</span>(<span style="color:#a6e22e">agents</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithCircuitBreaker</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">CircuitBreakerConfig</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">FailureThreshold</span>: <span style="color:#ae81ff">5</span>,    <span style="color:#75715e">// Open after 5 failures</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">RecoveryTimeout</span>:  <span style="color:#ae81ff">30</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Second</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">HalfOpenRequests</span>: <span style="color:#ae81ff">3</span>,    <span style="color:#75715e">// Test with 3 requests when half-open</span>
</span></span><span style="display:flex;"><span>    }).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Build</span>()</span></span></code></pre></div>
<h3 id="graceful-degradation">Graceful Degradation</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Configure graceful degradation</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">runner</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewOrchestrationBuilder</span>(<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">OrchestrationCollaborate</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithAgents</span>(<span style="color:#a6e22e">agents</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithFailureThreshold</span>(<span style="color:#ae81ff">0.6</span>). <span style="color:#75715e">// Continue if 60% of agents succeed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">WithGracefulDegradation</span>(<span style="color:#66d9ef">true</span>).
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Build</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Even if some agents fail, you&#39;ll get partial results</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">result</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">runner</span>.<span style="color:#a6e22e">ProcessEvent</span>(<span style="color:#a6e22e">ctx</span>, <span style="color:#a6e22e">event</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Check if it&#39;s a partial failure</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">partialErr</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">err</span>.(<span style="color:#f92672">*</span><span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">PartialFailureError</span>); <span style="color:#a6e22e">ok</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Partial failure: %d/%d agents succeeded&#34;</span>, 
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">partialErr</span>.<span style="color:#a6e22e">SuccessCount</span>, <span style="color:#a6e22e">partialErr</span>.<span style="color:#a6e22e">TotalCount</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Use partial results</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">usePartialResults</span>(<span style="color:#a6e22e">result</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>This comprehensive Orchestration API reference covers all aspects of multi-agent coordination in AgenticGoKit, from basic patterns to advanced configuration and monitoring.</p>

  <footer class="footline">
              <i class='fa-fw fas fa-calendar'></i> Jul 25, 2025
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
          <a id="R-logo" class="R-default" href="/AgenticGoKitDocs/index.html">
            <div class="logo-title">AgenticGoKit Docs</div>
          </a>
        </div>
        <search><form action="/AgenticGoKitDocs/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/index.html"><a class="padding" href="/AgenticGoKitDocs/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/readme/index.html">content</a></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/guides/index.html"><input type="checkbox" id="R-section-8fc2fd7736125e87cab8840a86c2af5a" aria-controls="R-subsections-8fc2fd7736125e87cab8840a86c2af5a" checked><label for="R-section-8fc2fd7736125e87cab8840a86c2af5a"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu guides</span></label><a class="padding" href="/AgenticGoKitDocs/guides/index.html">guides</a><ul id="R-subsections-8fc2fd7736125e87cab8840a86c2af5a" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/readme/index.html">guides</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/agentbasics/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/agentbasics/index.html">AgentBasics</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/examples/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/examples/index.html">Examples</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/configuration/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/configuration/index.html">Configuration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/customtools/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/customtools/index.html">CustomTools</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/providers/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/providers/index.html">Providers</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/memoryprovidersetup/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/memoryprovidersetup/index.html">MemoryProviderSetup</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/memorytroubleshooting/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/memorytroubleshooting/index.html">MemoryTroubleshooting</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/embeddingmodelguide/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/embeddingmodelguide/index.html">EmbeddingModelGuide</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/ragconfiguration/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/ragconfiguration/index.html">RAGConfiguration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/toolintegration/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/toolintegration/index.html">ToolIntegration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/pgvectorsetup/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/pgvectorsetup/index.html">PgVectorSetup</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/weaviatesetup/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/weaviatesetup/index.html">WeaviateSetup</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/performance/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/performance/index.html">Performance</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/errorhandling/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/errorhandling/index.html">ErrorHandling</a></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/guides/deployment/index.html"><input type="checkbox" id="R-section-ecc839349395ef3c015a12132049dff2" aria-controls="R-subsections-ecc839349395ef3c015a12132049dff2" checked><label for="R-section-ecc839349395ef3c015a12132049dff2"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu deployment</span></label><a class="padding" href="/AgenticGoKitDocs/guides/deployment/index.html">deployment</a><ul id="R-subsections-ecc839349395ef3c015a12132049dff2" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/deployment/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/deployment/readme/index.html">deployment</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/guides/development/index.html"><input type="checkbox" id="R-section-fff1f5eca5d0a93209b9c6262762c25a" aria-controls="R-subsections-fff1f5eca5d0a93209b9c6262762c25a" checked><label for="R-section-fff1f5eca5d0a93209b9c6262762c25a"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu development</span></label><a class="padding" href="/AgenticGoKitDocs/guides/development/index.html">development</a><ul id="R-subsections-fff1f5eca5d0a93209b9c6262762c25a" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/development/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/development/readme/index.html">development</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/development/best-practices/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/development/best-practices/index.html">best-practices</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/development/debugging/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/development/debugging/index.html">debugging</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/development/research-assistant/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/development/research-assistant/index.html">research-assistant</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/development/testing-agents/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/development/testing-agents/index.html">testing-agents</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/development/visualization/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/development/visualization/index.html">visualization</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/development/web-search-integration/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/development/web-search-integration/index.html">web-search-integration</a></li></ul></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/framework-comparison/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/framework-comparison/index.html">framework-comparison</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/memory/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/memory/index.html">Memory</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/scaffoldmemoryguide/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/scaffoldmemoryguide/index.html">ScaffoldMemoryGuide</a></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/guides/setup/index.html"><input type="checkbox" id="R-section-0124aed9abb5064d53391168f3c95c22" aria-controls="R-subsections-0124aed9abb5064d53391168f3c95c22" checked><label for="R-section-0124aed9abb5064d53391168f3c95c22"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu setup</span></label><a class="padding" href="/AgenticGoKitDocs/guides/setup/index.html">setup</a><ul id="R-subsections-0124aed9abb5064d53391168f3c95c22" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/setup/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/setup/readme/index.html">setup</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/setup/llm-providers/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/setup/llm-providers/index.html">llm-providers</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/setup/mcp-tools/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/setup/mcp-tools/index.html">mcp-tools</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/setup/orchestration-configuration/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/setup/orchestration-configuration/index.html">orchestration-configuration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/setup/vector-databases/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/setup/vector-databases/index.html">vector-databases</a></li></ul></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/troubleshooting/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/troubleshooting/index.html">troubleshooting</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/contributors/index.html"><input type="checkbox" id="R-section-190d9b328fbda7e13ab386f7a5417de5" aria-controls="R-subsections-190d9b328fbda7e13ab386f7a5417de5" checked><label for="R-section-190d9b328fbda7e13ab386f7a5417de5"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu contributors</span></label><a class="padding" href="/AgenticGoKitDocs/contributors/index.html">contributors</a><ul id="R-subsections-190d9b328fbda7e13ab386f7a5417de5" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/contributors/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/contributors/readme/index.html">contributors</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/contributors/contributorguide/index.html"><a class="padding" href="/AgenticGoKitDocs/contributors/contributorguide/index.html">ContributorGuide</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/contributors/codestyle/index.html"><a class="padding" href="/AgenticGoKitDocs/contributors/codestyle/index.html">CodeStyle</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/contributors/corevsinternal/index.html"><a class="padding" href="/AgenticGoKitDocs/contributors/corevsinternal/index.html">CoreVsInternal</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/contributors/addingfeatures/index.html"><a class="padding" href="/AgenticGoKitDocs/contributors/addingfeatures/index.html">AddingFeatures</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/contributors/testing/index.html"><a class="padding" href="/AgenticGoKitDocs/contributors/testing/index.html">Testing</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/contributors/docsstandards/index.html"><a class="padding" href="/AgenticGoKitDocs/contributors/docsstandards/index.html">DocsStandards</a></li></ul></li>
            <li class="parent alwaysopen " data-nav-id="/AgenticGoKitDocs/reference/index.html"><input type="checkbox" id="R-section-66002f201bef818664bb81aa67490c58" aria-controls="R-subsections-66002f201bef818664bb81aa67490c58" checked><label for="R-section-66002f201bef818664bb81aa67490c58"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu reference</span></label><a class="padding" href="/AgenticGoKitDocs/reference/index.html">reference</a><ul id="R-subsections-66002f201bef818664bb81aa67490c58" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/reference/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/readme/index.html">reference</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/reference/api/configuration/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/api/configuration/index.html">configuration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/reference/cli/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/cli/index.html">cli</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/reference/api/mcp/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/api/mcp/index.html">mcp</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/reference/api/agent/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/api/agent/index.html">agent</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/reference/api/memory/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/api/memory/index.html">memory</a></li>
            <li class="active " data-nav-id="/AgenticGoKitDocs/reference/api/orchestration/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/api/orchestration/index.html">orchestration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/reference/api/state-event/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/api/state-event/index.html">state-event</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/tutorials/index.html"><input type="checkbox" id="R-section-e1e8c1e70c5500b49e8dda2dc550651a" aria-controls="R-subsections-e1e8c1e70c5500b49e8dda2dc550651a" checked><label for="R-section-e1e8c1e70c5500b49e8dda2dc550651a"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu tutorials</span></label><a class="padding" href="/AgenticGoKitDocs/tutorials/index.html">tutorials</a><ul id="R-subsections-e1e8c1e70c5500b49e8dda2dc550651a" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/readme/index.html">tutorials</a></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/tutorials/advanced/index.html"><input type="checkbox" id="R-section-d3def5cd76adc8096d0ff9fda6b8e479" aria-controls="R-subsections-d3def5cd76adc8096d0ff9fda6b8e479" checked><label for="R-section-d3def5cd76adc8096d0ff9fda6b8e479"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu advanced</span></label><a class="padding" href="/AgenticGoKitDocs/tutorials/advanced/index.html">advanced</a><ul id="R-subsections-d3def5cd76adc8096d0ff9fda6b8e479" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/advanced/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/advanced/readme/index.html">advanced</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/advanced/circuit-breaker-patterns/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/advanced/circuit-breaker-patterns/index.html">circuit-breaker-patterns</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/advanced/load-balancing-scaling/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/advanced/load-balancing-scaling/index.html">load-balancing-scaling</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/advanced/retry-policies/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/advanced/retry-policies/index.html">retry-policies</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/advanced/testing-strategies/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/advanced/testing-strategies/index.html">testing-strategies</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/tutorials/core-concepts/index.html"><input type="checkbox" id="R-section-212c6ccffb40ecdd78eb2136f98c4cac" aria-controls="R-subsections-212c6ccffb40ecdd78eb2136f98c4cac" checked><label for="R-section-212c6ccffb40ecdd78eb2136f98c4cac"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu core-concepts</span></label><a class="padding" href="/AgenticGoKitDocs/tutorials/core-concepts/index.html">core-concepts</a><ul id="R-subsections-212c6ccffb40ecdd78eb2136f98c4cac" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/core-concepts/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/core-concepts/readme/index.html">core-concepts</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/core-concepts/agent-lifecycle/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/core-concepts/agent-lifecycle/index.html">agent-lifecycle</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/core-concepts/error-handling/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/core-concepts/error-handling/index.html">error-handling</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/core-concepts/message-passing/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/core-concepts/message-passing/index.html">message-passing</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/core-concepts/orchestration-patterns/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/core-concepts/orchestration-patterns/index.html">orchestration-patterns</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/core-concepts/state-management/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/core-concepts/state-management/index.html">state-management</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/tutorials/debugging/index.html"><input type="checkbox" id="R-section-d8dfe6eec6c6d4cb6f6f50bdd07fa3cc" aria-controls="R-subsections-d8dfe6eec6c6d4cb6f6f50bdd07fa3cc" checked><label for="R-section-d8dfe6eec6c6d4cb6f6f50bdd07fa3cc"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu debugging</span></label><a class="padding" href="/AgenticGoKitDocs/tutorials/debugging/index.html">debugging</a><ul id="R-subsections-d8dfe6eec6c6d4cb6f6f50bdd07fa3cc" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/debugging/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/debugging/readme/index.html">debugging</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/debugging/debugging-multi-agent-systems/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/debugging/debugging-multi-agent-systems/index.html">debugging-multi-agent-systems</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/debugging/logging-and-tracing/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/debugging/logging-and-tracing/index.html">logging-and-tracing</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/index.html"><input type="checkbox" id="R-section-e7f904c8b9d0f9bf1f07ca7d482d2247" aria-controls="R-subsections-e7f904c8b9d0f9bf1f07ca7d482d2247" checked><label for="R-section-e7f904c8b9d0f9bf1f07ca7d482d2247"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu getting-started</span></label><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/index.html">getting-started</a><ul id="R-subsections-e7f904c8b9d0f9bf1f07ca7d482d2247" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/readme/index.html">getting-started</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/memory-and-rag/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/memory-and-rag/index.html">memory-and-rag</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/multi-agent-collaboration/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/multi-agent-collaboration/index.html">multi-agent-collaboration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/production-deployment/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/production-deployment/index.html">production-deployment</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/quickstart/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/quickstart/index.html">quickstart</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/tool-integration/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/tool-integration/index.html">tool-integration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/your-first-agent/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/your-first-agent/index.html">your-first-agent</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/tutorials/mcp/index.html"><input type="checkbox" id="R-section-153aac44598009a99dd5a60317a3eecc" aria-controls="R-subsections-153aac44598009a99dd5a60317a3eecc" checked><label for="R-section-153aac44598009a99dd5a60317a3eecc"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu mcp</span></label><a class="padding" href="/AgenticGoKitDocs/tutorials/mcp/index.html">mcp</a><ul id="R-subsections-153aac44598009a99dd5a60317a3eecc" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/mcp/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/mcp/readme/index.html">mcp</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/mcp/advanced-tool-patterns/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/mcp/advanced-tool-patterns/index.html">advanced-tool-patterns</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/mcp/tool-development/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/mcp/tool-development/index.html">tool-development</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/mcp/tool-integration/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/mcp/tool-integration/index.html">tool-integration</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/index.html"><input type="checkbox" id="R-section-9c1a65f2d7b3888241dcafa51a0710e7" aria-controls="R-subsections-9c1a65f2d7b3888241dcafa51a0710e7" checked><label for="R-section-9c1a65f2d7b3888241dcafa51a0710e7"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu memory-systems</span></label><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/index.html">memory-systems</a><ul id="R-subsections-9c1a65f2d7b3888241dcafa51a0710e7" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/readme/index.html">memory-systems</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/basic-memory/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/basic-memory/index.html">basic-memory</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/document-ingestion/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/document-ingestion/index.html">document-ingestion</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/knowledge-bases/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/knowledge-bases/index.html">knowledge-bases</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/memory-optimization/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/memory-optimization/index.html">memory-optimization</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/rag-implementation/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/rag-implementation/index.html">rag-implementation</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/vector-databases/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/vector-databases/index.html">vector-databases</a></li></ul></li></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer"><p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p></div>
      </div>
    </aside>
    <script src="/AgenticGoKitDocs/js/js-yaml/js-yaml.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/d3/d3-color.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/d3/d3-dispatch.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/d3/d3-drag.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/d3/d3-ease.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/d3/d3-interpolate.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/d3/d3-selection.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/d3/d3-timer.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/d3/d3-transition.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/d3/d3-zoom.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/mermaid/mermaid.min.js?1753430931" defer></script>
    <script>
      window.relearn.themeUseMermaid = JSON.parse("{}");
    </script>
    <script src="/AgenticGoKitDocs/js/clipboard/clipboard.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/perfect-scrollbar/perfect-scrollbar.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/theme.js?1753430931" defer></script>
  </body>
</html>
