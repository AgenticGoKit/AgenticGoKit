<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head><script src="/AgenticGoKitDocs/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=AgenticGoKitDocs/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.1">
    <meta name="generator" content="Relearn 8.0.0+9803d5122ebb3276acea823f476e9eb44f607862">
    <meta name="description" content="State &amp; Event API Reference Complete reference for data flow and communication between agents
This document provides comprehensive API reference for AgenticGoKit’s state management and event system, which enables data flow and communication between agents in multi-agent systems.
🏗️ Core Interfaces Event Interface The Event interface represents data that flows between agents in the system.
type Event interface { GetID() string GetData() EventData GetMetadata() map[string]string GetMetadataValue(key string) (string, bool) GetSourceAgentID() string GetTargetAgentID() string }Methods GetID GetID() stringReturns the unique identifier for this event.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="state-event :: AgenticGoKit Docs">
    <meta name="twitter:description" content="State &amp; Event API Reference Complete reference for data flow and communication between agents
This document provides comprehensive API reference for AgenticGoKit’s state management and event system, which enables data flow and communication between agents in multi-agent systems.
🏗️ Core Interfaces Event Interface The Event interface represents data that flows between agents in the system.
type Event interface { GetID() string GetData() EventData GetMetadata() map[string]string GetMetadataValue(key string) (string, bool) GetSourceAgentID() string GetTargetAgentID() string }Methods GetID GetID() stringReturns the unique identifier for this event.">
    <meta property="og:url" content="http://localhost:1313/AgenticGoKitDocs/reference/api/state-event/index.html">
    <meta property="og:site_name" content="AgenticGoKit Docs">
    <meta property="og:title" content="state-event :: AgenticGoKit Docs">
    <meta property="og:description" content="State &amp; Event API Reference Complete reference for data flow and communication between agents
This document provides comprehensive API reference for AgenticGoKit’s state management and event system, which enables data flow and communication between agents in multi-agent systems.
🏗️ Core Interfaces Event Interface The Event interface represents data that flows between agents in the system.
type Event interface { GetID() string GetData() EventData GetMetadata() map[string]string GetMetadataValue(key string) (string, bool) GetSourceAgentID() string GetTargetAgentID() string }Methods GetID GetID() stringReturns the unique identifier for this event.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="reference">
    <meta property="article:published_time" content="2025-07-25T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-07-25T00:00:00+00:00">
    <meta itemprop="name" content="state-event :: AgenticGoKit Docs">
    <meta itemprop="description" content="State &amp; Event API Reference Complete reference for data flow and communication between agents
This document provides comprehensive API reference for AgenticGoKit’s state management and event system, which enables data flow and communication between agents in multi-agent systems.
🏗️ Core Interfaces Event Interface The Event interface represents data that flows between agents in the system.
type Event interface { GetID() string GetData() EventData GetMetadata() map[string]string GetMetadataValue(key string) (string, bool) GetSourceAgentID() string GetTargetAgentID() string }Methods GetID GetID() stringReturns the unique identifier for this event.">
    <meta itemprop="datePublished" content="2025-07-25T00:00:00+00:00">
    <meta itemprop="dateModified" content="2025-07-25T00:00:00+00:00">
    <meta itemprop="wordCount" content="1680">
    <title>state-event :: AgenticGoKit Docs</title>
    <link href="/AgenticGoKitDocs/css/auto-complete/auto-complete.min.css?1753430931" rel="stylesheet">
    <script src="/AgenticGoKitDocs/js/auto-complete/auto-complete.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/search-lunr.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/search.js?1753430931" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/AgenticGoKitDocs/searchindex.en.js?1753430931";
    </script>
    <script src="/AgenticGoKitDocs/js/lunr/lunr.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/lunr/lunr.stemmer.support.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/lunr/lunr.multi.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/lunr/lunr.en.min.js?1753430931" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/AgenticGoKitDocs/fonts/fontawesome/css/fontawesome-all.min.css?1753430931" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/AgenticGoKitDocs/fonts/fontawesome/css/fontawesome-all.min.css?1753430931" rel="stylesheet"></noscript>
    <link href="/AgenticGoKitDocs/css/perfect-scrollbar/perfect-scrollbar.min.css?1753430931" rel="stylesheet">
    <link href="/AgenticGoKitDocs/css/theme.css?1753430931" rel="stylesheet">
    <link href="/AgenticGoKitDocs/css/format-html.css?1753430931" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = ``;
      window.relearn.path='\/reference\/api\/state-event\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313\/AgenticGoKitDocs';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'blue' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="/AgenticGoKitDocs/reference/api/state-event/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#-core-interfaces">🏗️ Core Interfaces</a>
      <ul>
        <li><a href="#event-interface">Event Interface</a></li>
        <li><a href="#state-interface">State Interface</a></li>
      </ul>
    </li>
    <li><a href="#-type-definitions">📊 Type Definitions</a>
      <ul>
        <li><a href="#eventdata">EventData</a></li>
        <li><a href="#agentresult">AgentResult</a></li>
      </ul>
    </li>
    <li><a href="#-factory-functions">🏭 Factory Functions</a>
      <ul>
        <li><a href="#event-creation">Event Creation</a></li>
        <li><a href="#state-creation">State Creation</a></li>
      </ul>
    </li>
    <li><a href="#-state-management-patterns">🔄 State Management Patterns</a>
      <ul>
        <li><a href="#conversation-state-pattern">Conversation State Pattern</a></li>
        <li><a href="#session-state-pattern">Session State Pattern</a></li>
        <li><a href="#multi-agent-state-sharing-pattern">Multi-Agent State Sharing Pattern</a></li>
      </ul>
    </li>
    <li><a href="#-event-routing-patterns">🔍 Event Routing Patterns</a>
      <ul>
        <li><a href="#route-based-event-handling">Route-Based Event Handling</a></li>
        <li><a href="#event-transformation-pattern">Event Transformation Pattern</a></li>
      </ul>
    </li>
    <li><a href="#-testing-state-and-events">🧪 Testing State and Events</a>
      <ul>
        <li><a href="#state-testing-utilities">State Testing Utilities</a></li>
        <li><a href="#event-testing-utilities">Event Testing Utilities</a></li>
        <li><a href="#agent-result-testing">Agent Result Testing</a></li>
      </ul>
    </li>
    <li><a href="#-best-practices">🔧 Best Practices</a>
      <ul>
        <li><a href="#state-management">State Management</a></li>
        <li><a href="#event-design">Event Design</a></li>
        <li><a href="#error-handling">Error Handling</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/AgenticGoKitDocs/index.html"><span itemprop="name">content</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/AgenticGoKitDocs/reference/index.html"><span itemprop="name">reference</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">state-event</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/AgenticGoKitDocs/reference/api/orchestration/index.html" title="orchestration (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/AgenticGoKitDocs/tutorials/index.html" title="tutorials (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable reference" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="state-event">state-event</h1>

<h1 id="state--event-api-reference">State &amp; Event API Reference</h1>
<p><strong>Complete reference for data flow and communication between agents</strong></p>
<p>This document provides comprehensive API reference for AgenticGoKit&rsquo;s state management and event system, which enables data flow and communication between agents in multi-agent systems.</p>
<h2 id="-core-interfaces">🏗️ Core Interfaces</h2>
<h3 id="event-interface">Event Interface</h3>
<p>The Event interface represents data that flows between agents in the system.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Event</span> <span style="color:#66d9ef">interface</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">GetID</span>() <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">GetData</span>() <span style="color:#a6e22e">EventData</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">GetMetadata</span>() <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">GetMetadataValue</span>(<span style="color:#a6e22e">key</span> <span style="color:#66d9ef">string</span>) (<span style="color:#66d9ef">string</span>, <span style="color:#66d9ef">bool</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">GetSourceAgentID</span>() <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">GetTargetAgentID</span>() <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h4 id="methods">Methods</h4>
<h5 id="getid">GetID</h5>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">GetID</span>() <span style="color:#66d9ef">string</span></span></span></code></pre></div>
<p>Returns the unique identifier for this event.</p>
<h5 id="getdata">GetData</h5>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">GetData</span>() <span style="color:#a6e22e">EventData</span></span></span></code></pre></div>
<p>Returns the event payload as key-value pairs.</p>
<p><strong>Example</strong>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">data</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">GetData</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">message</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">data</span>[<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;message\&#34;]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if ok {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    fmt.Printf(\&#34;User message: %s\\n\&#34;</span>, <span style="color:#a6e22e">message</span>)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h5 id="getmetadata">GetMetadata</h5>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">GetMetadata</span>() <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">string</span></span></span></code></pre></div>
<p>Returns all metadata associated with the event.</p>
<h5 id="getmetadatavalue">GetMetadataValue</h5>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">GetMetadataValue</span>(<span style="color:#a6e22e">key</span> <span style="color:#66d9ef">string</span>) (<span style="color:#66d9ef">string</span>, <span style="color:#66d9ef">bool</span>)</span></span></code></pre></div>
<p>Returns a specific metadata value by key.</p>
<p><strong>Example</strong>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">sessionID</span>, <span style="color:#a6e22e">exists</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">GetMetadataValue</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;session_id\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if exists {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    fmt.Printf(\&#34;Session: %s\\n\&#34;</span>, <span style="color:#a6e22e">sessionID</span>)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h5 id="getsourceagentid--gettargetagentid">GetSourceAgentID / GetTargetAgentID</h5>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">GetSourceAgentID</span>() <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">GetTargetAgentID</span>() <span style="color:#66d9ef">string</span></span></span></code></pre></div>
<p>Returns the source and target agent identifiers for event routing.</p>
<h3 id="state-interface">State Interface</h3>
<p>Thread-safe state management interface for maintaining data across agent interactions.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">State</span> <span style="color:#66d9ef">interface</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Get</span>(<span style="color:#a6e22e">key</span> <span style="color:#66d9ef">string</span>) (<span style="color:#66d9ef">any</span>, <span style="color:#66d9ef">bool</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Set</span>(<span style="color:#a6e22e">key</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">value</span> <span style="color:#66d9ef">any</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Keys</span>() []<span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">GetMeta</span>(<span style="color:#a6e22e">key</span> <span style="color:#66d9ef">string</span>) (<span style="color:#66d9ef">string</span>, <span style="color:#66d9ef">bool</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">SetMeta</span>(<span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">value</span> <span style="color:#66d9ef">string</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">MetaKeys</span>() []<span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Clone</span>() <span style="color:#a6e22e">State</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h4 id="data-methods">Data Methods</h4>
<h5 id="getset">Get/Set</h5>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">Set</span>(<span style="color:#a6e22e">key</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">value</span> <span style="color:#66d9ef">any</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Get</span>(<span style="color:#a6e22e">key</span> <span style="color:#66d9ef">string</span>) (<span style="color:#66d9ef">any</span>, <span style="color:#66d9ef">bool</span>)</span></span></code></pre></div>
<p>Store and retrieve typed values in the state.</p>
<p><strong>Example</strong>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Store different types of data</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Set</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;user_preferences\&#34;, []string{\&#34;technical\&#34;, \&#34;detailed\&#34;})
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">state.Set(\&#34;conversation_turn\&#34;, 3)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">state.Set(\&#34;user_context\&#34;, map[string]interface{}{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    \&#34;name\&#34;: \&#34;John\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    \&#34;role\&#34;: \&#34;developer\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">})
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">// Retrieve data with type assertion
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">prefs, exists := state.Get(\&#34;user_preferences\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if exists {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    preferences := prefs.([]string)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    fmt.Printf(\&#34;User preferences: %v\\n\&#34;, preferences)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">turn, exists := state.Get(\&#34;conversation_turn\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if exists {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    turnNumber := turn.(int)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    fmt.Printf(\&#34;Turn: %d\\n\&#34;</span>, <span style="color:#a6e22e">turnNumber</span>)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h5 id="keys">Keys</h5>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">Keys</span>() []<span style="color:#66d9ef">string</span></span></span></code></pre></div>
<p>Returns all data keys currently stored in the state.</p>
<p><strong>Example</strong>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">keys</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Keys</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;State contains: %v\\n\&#34;</span>, <span style="color:#a6e22e">keys</span>)</span></span></code></pre></div>
<h4 id="metadata-methods">Metadata Methods</h4>
<h5 id="getmetasetmeta">GetMeta/SetMeta</h5>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">SetMeta</span>(<span style="color:#a6e22e">key</span>, <span style="color:#a6e22e">value</span> <span style="color:#66d9ef">string</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">GetMeta</span>(<span style="color:#a6e22e">key</span> <span style="color:#66d9ef">string</span>) (<span style="color:#66d9ef">string</span>, <span style="color:#66d9ef">bool</span>)</span></span></code></pre></div>
<p>Store and retrieve string metadata about the state.</p>
<p><strong>Example</strong>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Store metadata</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">SetMeta</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;processed_by\&#34;, \&#34;agent1\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">state.SetMeta(\&#34;timestamp\&#34;, time.Now().Format(time.RFC3339))
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">state.SetMeta(\&#34;session_id\&#34;, \&#34;abc123\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">// Retrieve metadata
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">agent, exists := state.GetMeta(\&#34;processed_by\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if exists {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    fmt.Printf(\&#34;Processed by: %s\\n\&#34;</span>, <span style="color:#a6e22e">agent</span>)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h5 id="metakeys">MetaKeys</h5>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">MetaKeys</span>() []<span style="color:#66d9ef">string</span></span></span></code></pre></div>
<p>Returns all metadata keys currently stored in the state.</p>
<h4 id="utility-methods">Utility Methods</h4>
<h5 id="clone">Clone</h5>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">Clone</span>() <span style="color:#a6e22e">State</span></span></span></code></pre></div>
<p>Creates a deep copy of the state for safe concurrent access.</p>
<p><strong>Example</strong>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Create a copy for modification</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">stateCopy</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Clone</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">stateCopy</span>.<span style="color:#a6e22e">Set</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;modified\&#34;, true)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">// Original state is unchanged
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">original, _ := state.Get(\&#34;modified\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">fmt.Printf(\&#34;Original modified: %v\\n\&#34;</span>, <span style="color:#a6e22e">original</span>) <span style="color:#75715e">// nil</span></span></span></code></pre></div>
<h2 id="-type-definitions">📊 Type Definitions</h2>
<h3 id="eventdata">EventData</h3>
<p>Type alias for event payload data.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">EventData</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}</span></span></code></pre></div>
<p><strong>Usage</strong>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">eventData</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">EventData</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;message\&#34;:    \&#34;Hello, world!\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    \&#34;user_id\&#34;:    \&#34;12345\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    \&#34;timestamp\&#34;:  time.Now(),
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    \&#34;context\&#34;:    map[string]string{\&#34;session\&#34;: \&#34;abc123\&#34;},
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">event := core.NewEvent(\&#34;user-message\&#34;</span>, <span style="color:#a6e22e">eventData</span>, <span style="color:#66d9ef">nil</span>)</span></span></code></pre></div>
<h3 id="agentresult">AgentResult</h3>
<p>Result returned by agent execution, containing response data and updated state.</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">AgentResult</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Data</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{} <span style="color:#e6db74">`json:\&#34;data\&#34;`</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">State</span> <span style="color:#a6e22e">State</span> <span style="color:#e6db74">`json:\&#34;state,omitempty\&#34;`</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Metadata</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{} <span style="color:#e6db74">`json:\&#34;metadata,omitempty\&#34;`</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Errors</span> []<span style="color:#66d9ef">error</span> <span style="color:#e6db74">`json:\&#34;errors,omitempty\&#34;`</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Success</span> <span style="color:#66d9ef">bool</span> <span style="color:#e6db74">`json:\&#34;success\&#34;`</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h4 id="fields">Fields</h4>
<h5 id="data">Data</h5>
<p>The primary response data that will be returned to the caller:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">result</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Data</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;answer\&#34;:     \&#34;Paris is the capital of France\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        \&#34;confidence\&#34;: 0.95,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        \&#34;sources\&#34;:    []string{\&#34;wikipedia\&#34;, \&#34;britannica\&#34;</span>},
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h5 id="state">State</h5>
<p>Updated state to persist for the session:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#75715e">// Update conversation state</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Set</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;last_query\&#34;, query)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">state.Set(\&#34;query_count\&#34;, state.GetInt(\&#34;query_count\&#34;</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">result</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Data</span>:  <span style="color:#a6e22e">responseData</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">State</span>: <span style="color:#a6e22e">state</span>,
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h5 id="metadata">Metadata</h5>
<p>Additional execution information:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">result</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Data</span>: <span style="color:#a6e22e">responseData</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Metadata</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">interface</span>{}{
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;execution_time\&#34;: time.Since(start),
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        \&#34;tokens_used\&#34;:    tokenCount,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        \&#34;model\&#34;:          \&#34;gpt-4o\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        \&#34;tools_called\&#34;:   []string{\&#34;search\&#34;, \&#34;calculator\&#34;</span>},
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h5 id="errors">Errors</h5>
<p>Non-fatal errors that occurred during processing:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">result</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Data</span>: <span style="color:#a6e22e">partialData</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Errors</span>: []<span style="color:#66d9ef">error</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Errorf</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;tool &#39;advanced_search&#39; failed: %w\&#34;, searchErr),
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        fmt.Errorf(\&#34;cache miss for query: %s\&#34;</span>, <span style="color:#a6e22e">query</span>),
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Success</span>: <span style="color:#66d9ef">true</span>, <span style="color:#75715e">// Still successful despite errors</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="-factory-functions">🏭 Factory Functions</h2>
<h3 id="event-creation">Event Creation</h3>
<h4 id="newevent">NewEvent</h4>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">NewEvent</span>(<span style="color:#a6e22e">eventType</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">data</span> <span style="color:#a6e22e">EventData</span>, <span style="color:#a6e22e">metadata</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">string</span>) <span style="color:#a6e22e">Event</span></span></span></code></pre></div>
<p>Creates a new event with the specified data and metadata.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>eventType</code> - Type identifier for the event</li>
<li><code>data</code> - Event payload data</li>
<li><code>metadata</code> - Optional metadata map</li>
</ul>
<p><strong>Example</strong>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">eventData</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">EventData</span>{<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;message\&#34;: \&#34;Hello, world!\&#34;}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">metadata := map[string]string{\&#34;session_id\&#34;: \&#34;123\&#34;, \&#34;user_id\&#34;: \&#34;456\&#34;}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">event := core.NewEvent(\&#34;user-message\&#34;</span>, <span style="color:#a6e22e">eventData</span>, <span style="color:#a6e22e">metadata</span>)</span></span></code></pre></div>
<h3 id="state-creation">State Creation</h3>
<h4 id="newstate">NewState</h4>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">NewState</span>() <span style="color:#a6e22e">State</span></span></span></code></pre></div>
<p>Creates a new empty state instance.</p>
<p><strong>Example</strong>:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">state</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewState</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Set</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;conversation_history\&#34;, []string{})
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">state.SetMeta(\&#34;session_id\&#34;, \&#34;abc123\&#34;</span>)</span></span></code></pre></div>
<h2 id="-state-management-patterns">🔄 State Management Patterns</h2>
<h3 id="conversation-state-pattern">Conversation State Pattern</h3>
<p>Managing conversation history and context:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ConversationAgent</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">llm</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">ModelProvider</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">a</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">ConversationAgent</span>) <span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">event</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">Event</span>, <span style="color:#a6e22e">state</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">State</span>) (<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Get current conversation history</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">history</span>, <span style="color:#a6e22e">exists</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;conversation_history\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    var messages []core.Message
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    if exists {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        messages = history.([]core.Message)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Extract user message from event
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    data := event.GetData()
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    userMessage := data[\&#34;message\&#34;].(string)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Add user message to history
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    messages = append(messages, core.Message{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Role:    \&#34;user\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Content: userMessage,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    })
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Generate response
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    response, err := a.llm.GenerateWithHistory(ctx, messages)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    if err != nil {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        return core.AgentResult{}, err
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Add assistant response to history
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    messages = append(messages, core.Message{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Role:    \&#34;assistant\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Content: response,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    })
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Update state with new history
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    state.Set(\&#34;conversation_history\&#34;, messages)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    state.Set(\&#34;last_response\&#34;, response)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    state.SetMeta(\&#34;last_updated\&#34;, time.Now().Format(time.RFC3339))
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    return core.AgentResult{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Data: map[string]interface{}{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            \&#34;response\&#34;</span>: <span style="color:#a6e22e">response</span>,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">State</span>: <span style="color:#a6e22e">state</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Success</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    }, <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="session-state-pattern">Session State Pattern</h3>
<p>Managing user session data across multiple interactions:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">SessionAgent</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">sessionStore</span> <span style="color:#a6e22e">SessionStore</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">a</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">SessionAgent</span>) <span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">event</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">Event</span>, <span style="color:#a6e22e">state</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">State</span>) (<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Get session ID from event metadata</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">sessionID</span>, <span style="color:#a6e22e">exists</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">GetMetadataValue</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;session_id\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    if !exists {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        return core.AgentResult{}, fmt.Errorf(\&#34;missing session_id in event metadata\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Load session data if not in state
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    if _, exists := state.Get(\&#34;session_data\&#34;); !exists {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        sessionData, err := a.sessionStore.Load(sessionID)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        if err != nil {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            // Create new session
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            sessionData = map[string]interface{}{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                \&#34;created_at\&#34;: time.Now(),
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                \&#34;user_id\&#34;:    event.GetMetadataValue(\&#34;user_id\&#34;),
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        state.Set(\&#34;session_data\&#34;, sessionData)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Process the event
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    data := event.GetData()
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    query := data[\&#34;query\&#34;].(string)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Update session with query count
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    sessionData := state.Get(\&#34;session_data\&#34;).(map[string]interface{})
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    queryCount, _ := sessionData[\&#34;query_count\&#34;].(int)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    sessionData[\&#34;query_count\&#34;] = queryCount + 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    sessionData[\&#34;last_query\&#34;] = query
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    sessionData[\&#34;last_activity\&#34;] = time.Now()
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    state.Set(\&#34;session_data\&#34;, sessionData)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Save session data
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    if err := a.sessionStore.Save(sessionID, sessionData); err != nil {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        // Log error but don&#39;t fail the request
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        log.Printf(\&#34;Failed to save session data: %v\&#34;, err)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    return core.AgentResult{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Data: map[string]interface{}{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            \&#34;processed\&#34;: true,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            \&#34;query_count\&#34;</span>: <span style="color:#a6e22e">queryCount</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">State</span>: <span style="color:#a6e22e">state</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Success</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    }, <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="multi-agent-state-sharing-pattern">Multi-Agent State Sharing Pattern</h3>
<p>Sharing state between multiple agents in a workflow:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">AnalysisAgent</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">a</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">AnalysisAgent</span>) <span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">event</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">Event</span>, <span style="color:#a6e22e">state</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">State</span>) (<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Get shared analysis context</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">analysisContext</span>, <span style="color:#a6e22e">exists</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Get</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;analysis_context\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    if !exists {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        analysisContext = map[string]interface{}{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            \&#34;started_at\&#34;: time.Now(),
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            \&#34;agents_completed\&#34;: []string{},
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            \&#34;findings\&#34;: map[string]interface{}{},
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    context := analysisContext.(map[string]interface{})
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Perform analysis
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    data := event.GetData()
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    text := data[\&#34;text\&#34;].(string)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    analysis := a.performAnalysis(text)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Add findings to shared context
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    findings := context[\&#34;findings\&#34;].(map[string]interface{})
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    findings[a.name] = analysis
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Mark this agent as completed
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    completed := context[\&#34;agents_completed\&#34;].([]string)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    completed = append(completed, a.name)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    context[\&#34;agents_completed\&#34;] = completed
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Update shared state
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    state.Set(\&#34;analysis_context\&#34;, context)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    return core.AgentResult{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Data: map[string]interface{}{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            \&#34;analysis\&#34;: analysis,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            \&#34;agent\&#34;: a.name,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        },
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        State: state,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Success: true,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }, nil
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">func (a *AnalysisAgent) performAnalysis(text string) map[string]interface{} {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Implement specific analysis logic
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    return map[string]interface{}{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        \&#34;word_count\&#34;: len(strings.Fields(text)),
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        \&#34;sentiment\&#34;: \&#34;positive\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        \&#34;topics\&#34;: []string{\&#34;technology\&#34;, \&#34;programming\&#34;</span>},
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="-event-routing-patterns">🔍 Event Routing Patterns</h2>
<h3 id="route-based-event-handling">Route-Based Event Handling</h3>
<p>Using event metadata for routing decisions:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">RouterAgent</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">handlers</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentHandler</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">r</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">RouterAgent</span>) <span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">event</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">Event</span>, <span style="color:#a6e22e">state</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">State</span>) (<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Get route from event metadata</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">route</span>, <span style="color:#a6e22e">exists</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">GetMetadataValue</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;route\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    if !exists {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        // Default routing based on event data
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        data := event.GetData()
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        if _, hasQuery := data[\&#34;query\&#34;]; hasQuery {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            route = \&#34;query_handler\&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        } else if _, hasCommand := data[\&#34;command\&#34;]; hasCommand {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            route = \&#34;command_handler\&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        } else {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            route = \&#34;default_handler\&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Find appropriate handler
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    handler, exists := r.handlers[route]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    if !exists {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        return core.AgentResult{}, fmt.Errorf(\&#34;no handler found for route: %s\&#34;</span>, <span style="color:#a6e22e">route</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Delegate to specific handler</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">handler</span>.<span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">ctx</span>, <span style="color:#a6e22e">event</span>, <span style="color:#a6e22e">state</span>)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="event-transformation-pattern">Event Transformation Pattern</h3>
<p>Transforming events between different formats:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">TransformAgent</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">transformer</span> <span style="color:#a6e22e">EventTransformer</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">TransformAgent</span>) <span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">event</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">Event</span>, <span style="color:#a6e22e">state</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">State</span>) (<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>, <span style="color:#66d9ef">error</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Transform incoming event</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">transformedData</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">transformer</span>.<span style="color:#a6e22e">Transform</span>(<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">GetData</span>())
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">AgentResult</span>{}, <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Errorf</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;event transformation failed: %w\&#34;, err)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Create new event with transformed data
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    newEvent := core.NewEvent(\&#34;transformed\&#34;, transformedData, event.GetMetadata())
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Store transformation history in state
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    history, exists := state.Get(\&#34;transformation_history\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    if !exists {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        history = []string{}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    historyList := history.([]string)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    historyList = append(historyList, fmt.Sprintf(\&#34;Transformed at %s\&#34;, time.Now().Format(time.RFC3339)))
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    state.Set(\&#34;transformation_history\&#34;, historyList)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    return core.AgentResult{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Data: map[string]interface{}{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            \&#34;transformed_event\&#34;: newEvent,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            \&#34;original_event\&#34;</span>: <span style="color:#a6e22e">event</span>,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">State</span>: <span style="color:#a6e22e">state</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Success</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    }, <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="-testing-state-and-events">🧪 Testing State and Events</h2>
<h3 id="state-testing-utilities">State Testing Utilities</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestStateOperations</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">state</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewState</span>()
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Test basic operations</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Set</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;key1\&#34;, \&#34;value1\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    state.Set(\&#34;key2\&#34;, 42)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    value1, exists := state.Get(\&#34;key1\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.True(t, exists)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.Equal(t, \&#34;value1\&#34;, value1.(string))
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    value2, exists := state.Get(\&#34;key2\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.True(t, exists)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.Equal(t, 42, value2.(int))
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Test metadata
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    state.SetMeta(\&#34;meta1\&#34;, \&#34;metavalue1\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    metaValue, exists := state.GetMeta(\&#34;meta1\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.True(t, exists)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.Equal(t, \&#34;metavalue1\&#34;, metaValue)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Test cloning
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    clonedState := state.Clone()
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    clonedState.Set(\&#34;key3\&#34;, \&#34;value3\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    _, exists = state.Get(\&#34;key3\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.False(t, exists) // Original state unchanged
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    _, exists = clonedState.Get(\&#34;key3\&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">assert</span>.<span style="color:#a6e22e">True</span>(<span style="color:#a6e22e">t</span>, <span style="color:#a6e22e">exists</span>) <span style="color:#75715e">// Cloned state has new value</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="event-testing-utilities">Event Testing Utilities</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestEventCreation</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">eventData</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">EventData</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;message\&#34;: \&#34;test message\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        \&#34;user_id\&#34;: \&#34;123\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    metadata := map[string]string{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        \&#34;session_id\&#34;: \&#34;session123\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        \&#34;route\&#34;: \&#34;test_route\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    event := core.NewEvent(\&#34;test_event\&#34;, eventData, metadata)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Test event data
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    data := event.GetData()
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.Equal(t, \&#34;test message\&#34;, data[\&#34;message\&#34;])
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.Equal(t, \&#34;123\&#34;, data[\&#34;user_id\&#34;])
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Test metadata
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    sessionID, exists := event.GetMetadataValue(\&#34;session_id\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.True(t, exists)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.Equal(t, \&#34;session123\&#34;, sessionID)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    route, exists := event.GetMetadataValue(\&#34;route\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.True(t, exists)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.Equal(t, \&#34;test_route\&#34;</span>, <span style="color:#a6e22e">route</span>)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="agent-result-testing">Agent Result Testing</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestAgentResult</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">state</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">NewState</span>()
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">Set</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#34;processed\&#34;, true)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    result := core.AgentResult{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Data: map[string]interface{}{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            \&#34;response\&#34;: \&#34;test response\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            \&#34;confidence\&#34;: 0.95,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        },
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        State: state,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Metadata: map[string]interface{}{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            \&#34;execution_time\&#34;: \&#34;100ms\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        },
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Success: true,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Test result data
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.Equal(t, \&#34;test response\&#34;, result.Data[\&#34;response\&#34;])
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.Equal(t, 0.95, result.Data[\&#34;confidence\&#34;])
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Test state
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    processed, exists := result.State.Get(\&#34;processed\&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.True(t, exists)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.True(t, processed.(bool))
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    // Test metadata
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    assert.Equal(t, \&#34;100ms\&#34;, result.Metadata[\&#34;execution_time\&#34;</span>])
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Test success</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">assert</span>.<span style="color:#a6e22e">True</span>(<span style="color:#a6e22e">t</span>, <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">Success</span>)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="-best-practices">🔧 Best Practices</h2>
<h3 id="state-management">State Management</h3>
<ol>
<li><strong>Use appropriate data types</strong>: Store data in the most appropriate Go type</li>
<li><strong>Namespace keys</strong>: Use prefixes to avoid key collisions (e.g., &quot;user.preferences&quot;, &quot;session.data&quot;)</li>
<li><strong>Clean up state</strong>: Remove unnecessary data to prevent memory leaks</li>
<li><strong>Use metadata for system info</strong>: Store system-level information in metadata</li>
</ol>
<h3 id="event-design">Event Design</h3>
<ol>
<li><strong>Consistent event types</strong>: Use consistent naming for event types</li>
<li><strong>Include context</strong>: Always include necessary context in event data</li>
<li><strong>Use metadata for routing</strong>: Use metadata for system-level routing information</li>
<li><strong>Validate event data</strong>: Always validate event data before processing</li>
</ol>
<h3 id="error-handling">Error Handling</h3>
<ol>
<li><strong>Graceful degradation</strong>: Handle missing state gracefully</li>
<li><strong>Preserve partial results</strong>: Return partial results when possible</li>
<li><strong>Log state changes</strong>: Log important state changes for debugging</li>
<li><strong>Use non-fatal errors</strong>: Use the Errors field for non-fatal issues</li>
</ol>
<p>This comprehensive reference covers all aspects of state and event management in AgenticGoKit, providing the foundation for building robust multi-agent systems.</p>

  <footer class="footline">
              <i class='fa-fw fas fa-calendar'></i> Jul 25, 2025
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
          <a id="R-logo" class="R-default" href="/AgenticGoKitDocs/index.html">
            <div class="logo-title">AgenticGoKit Docs</div>
          </a>
        </div>
        <search><form action="/AgenticGoKitDocs/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/index.html"><a class="padding" href="/AgenticGoKitDocs/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/readme/index.html">content</a></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/guides/index.html"><input type="checkbox" id="R-section-8fc2fd7736125e87cab8840a86c2af5a" aria-controls="R-subsections-8fc2fd7736125e87cab8840a86c2af5a" checked><label for="R-section-8fc2fd7736125e87cab8840a86c2af5a"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu guides</span></label><a class="padding" href="/AgenticGoKitDocs/guides/index.html">guides</a><ul id="R-subsections-8fc2fd7736125e87cab8840a86c2af5a" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/readme/index.html">guides</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/agentbasics/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/agentbasics/index.html">AgentBasics</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/examples/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/examples/index.html">Examples</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/configuration/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/configuration/index.html">Configuration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/customtools/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/customtools/index.html">CustomTools</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/providers/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/providers/index.html">Providers</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/memoryprovidersetup/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/memoryprovidersetup/index.html">MemoryProviderSetup</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/memorytroubleshooting/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/memorytroubleshooting/index.html">MemoryTroubleshooting</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/embeddingmodelguide/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/embeddingmodelguide/index.html">EmbeddingModelGuide</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/ragconfiguration/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/ragconfiguration/index.html">RAGConfiguration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/toolintegration/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/toolintegration/index.html">ToolIntegration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/pgvectorsetup/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/pgvectorsetup/index.html">PgVectorSetup</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/weaviatesetup/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/weaviatesetup/index.html">WeaviateSetup</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/performance/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/performance/index.html">Performance</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/errorhandling/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/errorhandling/index.html">ErrorHandling</a></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/guides/deployment/index.html"><input type="checkbox" id="R-section-ecc839349395ef3c015a12132049dff2" aria-controls="R-subsections-ecc839349395ef3c015a12132049dff2" checked><label for="R-section-ecc839349395ef3c015a12132049dff2"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu deployment</span></label><a class="padding" href="/AgenticGoKitDocs/guides/deployment/index.html">deployment</a><ul id="R-subsections-ecc839349395ef3c015a12132049dff2" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/deployment/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/deployment/readme/index.html">deployment</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/guides/development/index.html"><input type="checkbox" id="R-section-fff1f5eca5d0a93209b9c6262762c25a" aria-controls="R-subsections-fff1f5eca5d0a93209b9c6262762c25a" checked><label for="R-section-fff1f5eca5d0a93209b9c6262762c25a"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu development</span></label><a class="padding" href="/AgenticGoKitDocs/guides/development/index.html">development</a><ul id="R-subsections-fff1f5eca5d0a93209b9c6262762c25a" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/development/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/development/readme/index.html">development</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/development/best-practices/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/development/best-practices/index.html">best-practices</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/development/debugging/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/development/debugging/index.html">debugging</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/development/research-assistant/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/development/research-assistant/index.html">research-assistant</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/development/testing-agents/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/development/testing-agents/index.html">testing-agents</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/development/visualization/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/development/visualization/index.html">visualization</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/development/web-search-integration/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/development/web-search-integration/index.html">web-search-integration</a></li></ul></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/framework-comparison/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/framework-comparison/index.html">framework-comparison</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/memory/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/memory/index.html">Memory</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/scaffoldmemoryguide/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/scaffoldmemoryguide/index.html">ScaffoldMemoryGuide</a></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/guides/setup/index.html"><input type="checkbox" id="R-section-0124aed9abb5064d53391168f3c95c22" aria-controls="R-subsections-0124aed9abb5064d53391168f3c95c22" checked><label for="R-section-0124aed9abb5064d53391168f3c95c22"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu setup</span></label><a class="padding" href="/AgenticGoKitDocs/guides/setup/index.html">setup</a><ul id="R-subsections-0124aed9abb5064d53391168f3c95c22" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/setup/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/setup/readme/index.html">setup</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/setup/llm-providers/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/setup/llm-providers/index.html">llm-providers</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/setup/mcp-tools/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/setup/mcp-tools/index.html">mcp-tools</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/setup/orchestration-configuration/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/setup/orchestration-configuration/index.html">orchestration-configuration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/setup/vector-databases/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/setup/vector-databases/index.html">vector-databases</a></li></ul></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/guides/troubleshooting/index.html"><a class="padding" href="/AgenticGoKitDocs/guides/troubleshooting/index.html">troubleshooting</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/contributors/index.html"><input type="checkbox" id="R-section-190d9b328fbda7e13ab386f7a5417de5" aria-controls="R-subsections-190d9b328fbda7e13ab386f7a5417de5" checked><label for="R-section-190d9b328fbda7e13ab386f7a5417de5"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu contributors</span></label><a class="padding" href="/AgenticGoKitDocs/contributors/index.html">contributors</a><ul id="R-subsections-190d9b328fbda7e13ab386f7a5417de5" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/contributors/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/contributors/readme/index.html">contributors</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/contributors/contributorguide/index.html"><a class="padding" href="/AgenticGoKitDocs/contributors/contributorguide/index.html">ContributorGuide</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/contributors/codestyle/index.html"><a class="padding" href="/AgenticGoKitDocs/contributors/codestyle/index.html">CodeStyle</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/contributors/corevsinternal/index.html"><a class="padding" href="/AgenticGoKitDocs/contributors/corevsinternal/index.html">CoreVsInternal</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/contributors/addingfeatures/index.html"><a class="padding" href="/AgenticGoKitDocs/contributors/addingfeatures/index.html">AddingFeatures</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/contributors/testing/index.html"><a class="padding" href="/AgenticGoKitDocs/contributors/testing/index.html">Testing</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/contributors/docsstandards/index.html"><a class="padding" href="/AgenticGoKitDocs/contributors/docsstandards/index.html">DocsStandards</a></li></ul></li>
            <li class="parent alwaysopen " data-nav-id="/AgenticGoKitDocs/reference/index.html"><input type="checkbox" id="R-section-66002f201bef818664bb81aa67490c58" aria-controls="R-subsections-66002f201bef818664bb81aa67490c58" checked><label for="R-section-66002f201bef818664bb81aa67490c58"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu reference</span></label><a class="padding" href="/AgenticGoKitDocs/reference/index.html">reference</a><ul id="R-subsections-66002f201bef818664bb81aa67490c58" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/reference/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/readme/index.html">reference</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/reference/api/configuration/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/api/configuration/index.html">configuration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/reference/cli/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/cli/index.html">cli</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/reference/api/mcp/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/api/mcp/index.html">mcp</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/reference/api/agent/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/api/agent/index.html">agent</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/reference/api/memory/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/api/memory/index.html">memory</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/reference/api/orchestration/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/api/orchestration/index.html">orchestration</a></li>
            <li class="active " data-nav-id="/AgenticGoKitDocs/reference/api/state-event/index.html"><a class="padding" href="/AgenticGoKitDocs/reference/api/state-event/index.html">state-event</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/tutorials/index.html"><input type="checkbox" id="R-section-e1e8c1e70c5500b49e8dda2dc550651a" aria-controls="R-subsections-e1e8c1e70c5500b49e8dda2dc550651a" checked><label for="R-section-e1e8c1e70c5500b49e8dda2dc550651a"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu tutorials</span></label><a class="padding" href="/AgenticGoKitDocs/tutorials/index.html">tutorials</a><ul id="R-subsections-e1e8c1e70c5500b49e8dda2dc550651a" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/readme/index.html">tutorials</a></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/tutorials/advanced/index.html"><input type="checkbox" id="R-section-d3def5cd76adc8096d0ff9fda6b8e479" aria-controls="R-subsections-d3def5cd76adc8096d0ff9fda6b8e479" checked><label for="R-section-d3def5cd76adc8096d0ff9fda6b8e479"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu advanced</span></label><a class="padding" href="/AgenticGoKitDocs/tutorials/advanced/index.html">advanced</a><ul id="R-subsections-d3def5cd76adc8096d0ff9fda6b8e479" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/advanced/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/advanced/readme/index.html">advanced</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/advanced/circuit-breaker-patterns/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/advanced/circuit-breaker-patterns/index.html">circuit-breaker-patterns</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/advanced/load-balancing-scaling/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/advanced/load-balancing-scaling/index.html">load-balancing-scaling</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/advanced/retry-policies/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/advanced/retry-policies/index.html">retry-policies</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/advanced/testing-strategies/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/advanced/testing-strategies/index.html">testing-strategies</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/tutorials/core-concepts/index.html"><input type="checkbox" id="R-section-212c6ccffb40ecdd78eb2136f98c4cac" aria-controls="R-subsections-212c6ccffb40ecdd78eb2136f98c4cac" checked><label for="R-section-212c6ccffb40ecdd78eb2136f98c4cac"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu core-concepts</span></label><a class="padding" href="/AgenticGoKitDocs/tutorials/core-concepts/index.html">core-concepts</a><ul id="R-subsections-212c6ccffb40ecdd78eb2136f98c4cac" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/core-concepts/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/core-concepts/readme/index.html">core-concepts</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/core-concepts/agent-lifecycle/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/core-concepts/agent-lifecycle/index.html">agent-lifecycle</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/core-concepts/error-handling/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/core-concepts/error-handling/index.html">error-handling</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/core-concepts/message-passing/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/core-concepts/message-passing/index.html">message-passing</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/core-concepts/orchestration-patterns/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/core-concepts/orchestration-patterns/index.html">orchestration-patterns</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/core-concepts/state-management/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/core-concepts/state-management/index.html">state-management</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/tutorials/debugging/index.html"><input type="checkbox" id="R-section-d8dfe6eec6c6d4cb6f6f50bdd07fa3cc" aria-controls="R-subsections-d8dfe6eec6c6d4cb6f6f50bdd07fa3cc" checked><label for="R-section-d8dfe6eec6c6d4cb6f6f50bdd07fa3cc"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu debugging</span></label><a class="padding" href="/AgenticGoKitDocs/tutorials/debugging/index.html">debugging</a><ul id="R-subsections-d8dfe6eec6c6d4cb6f6f50bdd07fa3cc" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/debugging/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/debugging/readme/index.html">debugging</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/debugging/debugging-multi-agent-systems/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/debugging/debugging-multi-agent-systems/index.html">debugging-multi-agent-systems</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/debugging/logging-and-tracing/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/debugging/logging-and-tracing/index.html">logging-and-tracing</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/index.html"><input type="checkbox" id="R-section-e7f904c8b9d0f9bf1f07ca7d482d2247" aria-controls="R-subsections-e7f904c8b9d0f9bf1f07ca7d482d2247" checked><label for="R-section-e7f904c8b9d0f9bf1f07ca7d482d2247"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu getting-started</span></label><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/index.html">getting-started</a><ul id="R-subsections-e7f904c8b9d0f9bf1f07ca7d482d2247" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/readme/index.html">getting-started</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/memory-and-rag/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/memory-and-rag/index.html">memory-and-rag</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/multi-agent-collaboration/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/multi-agent-collaboration/index.html">multi-agent-collaboration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/production-deployment/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/production-deployment/index.html">production-deployment</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/quickstart/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/quickstart/index.html">quickstart</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/tool-integration/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/tool-integration/index.html">tool-integration</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/getting-started/your-first-agent/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/getting-started/your-first-agent/index.html">your-first-agent</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/tutorials/mcp/index.html"><input type="checkbox" id="R-section-153aac44598009a99dd5a60317a3eecc" aria-controls="R-subsections-153aac44598009a99dd5a60317a3eecc" checked><label for="R-section-153aac44598009a99dd5a60317a3eecc"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu mcp</span></label><a class="padding" href="/AgenticGoKitDocs/tutorials/mcp/index.html">mcp</a><ul id="R-subsections-153aac44598009a99dd5a60317a3eecc" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/mcp/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/mcp/readme/index.html">mcp</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/mcp/advanced-tool-patterns/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/mcp/advanced-tool-patterns/index.html">advanced-tool-patterns</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/mcp/tool-development/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/mcp/tool-development/index.html">tool-development</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/mcp/tool-integration/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/mcp/tool-integration/index.html">tool-integration</a></li></ul></li>
            <li class="alwaysopen " data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/index.html"><input type="checkbox" id="R-section-9c1a65f2d7b3888241dcafa51a0710e7" aria-controls="R-subsections-9c1a65f2d7b3888241dcafa51a0710e7" checked><label for="R-section-9c1a65f2d7b3888241dcafa51a0710e7"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu memory-systems</span></label><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/index.html">memory-systems</a><ul id="R-subsections-9c1a65f2d7b3888241dcafa51a0710e7" class="collapsible-menu">
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/readme/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/readme/index.html">memory-systems</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/basic-memory/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/basic-memory/index.html">basic-memory</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/document-ingestion/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/document-ingestion/index.html">document-ingestion</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/knowledge-bases/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/knowledge-bases/index.html">knowledge-bases</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/memory-optimization/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/memory-optimization/index.html">memory-optimization</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/rag-implementation/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/rag-implementation/index.html">rag-implementation</a></li>
            <li class="" data-nav-id="/AgenticGoKitDocs/tutorials/memory-systems/vector-databases/index.html"><a class="padding" href="/AgenticGoKitDocs/tutorials/memory-systems/vector-databases/index.html">vector-databases</a></li></ul></li></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer"><p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p></div>
      </div>
    </aside>
    <script src="/AgenticGoKitDocs/js/clipboard/clipboard.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/perfect-scrollbar/perfect-scrollbar.min.js?1753430931" defer></script>
    <script src="/AgenticGoKitDocs/js/theme.js?1753430931" defer></script>
  </body>
</html>
